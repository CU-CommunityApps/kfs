<?xml version="1.0" encoding="UTF-8"?><beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p" xsi:schemaLocation="http://www.springframework.org/schema/beans         http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

	<bean id="PaymentApplicationDocument" parent="PaymentApplicationDocument-parentBean"/>

	<bean id="PaymentApplicationDocument-parentBean" abstract="true" parent="TransactionalDocumentEntry">
		
		
		<property name="documentTypeName" value="APP"/>
		<property name="documentClass" value="org.kuali.kfs.module.ar.document.PaymentApplicationDocument"/>
		<property name="businessRulesClass" value="org.kuali.kfs.module.ar.document.validation.impl.PaymentApplicationDocumentRule"/>
<!-- Uncommenting this line will move to the accounting line validation framework. To enable it comment out the line above and uncomment this line. -->
<!-- 
		<property name="businessRulesClass" value="org.kuali.kfs.sys.document.validation.impl.AccountingRuleEngineRuleBase" />
 -->
		<property name="documentAuthorizerClass" value="org.kuali.kfs.module.ar.document.authorization.PaymentApplicationDocumentAuthorizer"/>
		<property name="documentPresentationControllerClass" value="org.kuali.kfs.module.ar.document.authorization.PaymentApplicationDocumentPresentationController"/>
		<property name="attributes">
			<list>
				<ref bean="PaymentApplicationDocument-versionNumber"/>
			</list>
		</property>
		<property name="validationMap" ref="PaymentApplicationDocument-validations"/>
    <property name="workflowAttributes">
      <ref bean="PaymentApplicationDocument-workflowAttributes"/>
    </property>
	</bean>
    
	<bean id="PaymentApplicationDocument-versionNumber" parent="PaymentApplicationDocument-versionNumber-parentBean"/>
	<bean id="PaymentApplicationDocument-versionNumber-parentBean" abstract="true" parent="GenericAttributes-versionNumber"/>

	<bean id="PaymentApplicationDocument-validations" parent="PaymentApplicationDocument-validations-parentBean"/>
	<bean id="PaymentApplicationDocument-validations-parentBean" class="org.springframework.beans.factory.config.MapFactoryBean">
	  <property name="sourceMap">
		<map>			
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedSaveDocumentEvent</value></key>
				<value>PaymentApplication-saveDocumentValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedRouteDocumentEvent</value></key>
				<value>PaymentApplication-routeDocumentValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedApproveDocumentEvent</value></key>
				<value>PaymentApplication-approveDocumentValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedBlanketApproveDocumentEvent</value></key>
				<value>PaymentApplication-blanketApproveDocumentValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedAddAccountingLineEvent</value></key>
				<value>PaymentApplication-addAccountingLineValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedDeleteAccountingLineEvent</value></key>
				<value>PaymentApplication-deleteAccountingLineValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedUpdateAccountingLineEvent</value></key>
				<value>PaymentApplication-updateAccountingLineValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedReviewAccountingLineEvent</value></key>
				<value>PaymentApplication-reviewAccountingLineValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.module.ar.document.validation.event.DiscountCustomerInvoiceDetailEvent</value></key>
				<value>PaymentApplication-discountCustomerInvoiceDetailValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.module.ar.document.validation.event.RecalculateCustomerInvoiceDetailEvent</value></key>
				<value>PaymentApplication-recalculateCustomerInvoiceDetailValidation</value>
			</entry>			
		</map>
	  </property>
  </bean>
   
<!-- Start - Workflow Attribute Beans -->   

    <bean id="PaymentApplicationDocument-workflowAttributes" parent="PaymentApplicationDocument-workflowAttributes-parentBean"/>
	<bean id="PaymentApplicationDocument-workflowAttributes-parentBean" abstract="true" parent="WorkflowAttributes">
    	<property name="searchingTypeDefinitions">
    		<list>
	   			<ref bean="SearchingType-AccountsReceivableDocument-customerNumber-criteriaOnly" />
   				<ref bean="SearchingType-AccountsReceivableDocument-customerName-criteriaOnly" />
	   			<ref bean="SearchingType-AccountsReceivableDocument-processingChartOfAccountsCode-criteriaOnly" />
   				<ref bean="SearchingType-AccountsReceivableDocument-processingOrganizationCode-criteriaOnly" />
<!--
    			<ref bean="SearchingType-PaymentApplicationDocument-billingChartOfAccountsCode-criteriaOnly" />
    			<ref bean="SearchingType-PaymentApplicationDocument-billingOrganizationCode-criteriaOnly" />
    			<ref bean="SearchingType-PaymentApplicationDocument-chartOfAccountsCode-sourceOnly" />
    			<ref bean="SearchingType-PaymentApplicationDocument-accountNumber-sourceOnly" />
    			<ref bean="SearchingType-PaymentApplicationDocument-financialDocumentReferenceInvoiceNumber-criteriaOnly" />
    			<ref bean="SearchingType-PaymentApplicationDocument-customerPaymentMediumIdentifier-criteriaOnly" />
-->
    		</list>
    	</property>
	</bean>

</beans>
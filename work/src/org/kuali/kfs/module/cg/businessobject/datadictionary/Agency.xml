<?xml version="1.0" encoding="UTF-8"?>
<!--
 Copyright 2005-2007 The Kuali Foundation.
 
 Licensed under the Educational Community License, Version 1.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at
 
 http://www.opensource.org/licenses/ecl1.php
 
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->
<!DOCTYPE dictionaryEntry PUBLIC
    "-//Kuali Project//DTD Data Dictionary 1.0//EN"
    "../../../core/datadictionary/dataDictionary-1_0.dtd">
<dictionaryEntry>
    <businessObject businessObjectClass="org.kuali.module.cg.bo.Agency">
        <customAttributeEnabled>false</customAttributeEnabled>

        <inquiry>
            <title>Agency Inquiry</title>

            <inquirySections><inquirySection title="Header Text"><inquiryFields>
                <field attributeName="agencyNumber" />
                <field attributeName="reportingName" />
                <field attributeName="fullName" />
                <field attributeName="agencyType.name" />
                <field attributeName="historicalIndicator" />
                <field attributeName="inStateIndicator" />
                <field attributeName="indirectAmount" />
                <field attributeName="reportsToAgencyNumber" />
            </inquiryFields></inquirySection></inquirySections>
        </inquiry>

        <lookup>
            <title>Agency Lookup</title>

            <instructions>Lookup an Agency</instructions>

            <defaultSort attributeName="fullName" sortAscending="true" />

            <lookupFields>
                <lookupField attributeName="agencyNumber" required="false" />
                <lookupField attributeName="reportingName" required="false" />
                <lookupField attributeName="fullName" required="false" />
                <lookupField attributeName="agencyType.name" required="false" />
                <lookupField attributeName="historicalIndicator" required="false" />
            </lookupFields>

            <resultFields>
                <field attributeName="agencyNumber" />
                <field attributeName="reportingName" />
                <field attributeName="fullName" />
                <field attributeName="agencyType.name" />
                <field attributeName="historicalIndicator" />
                <field attributeName="inStateIndicator" />
                <field attributeName="indirectAmount" />
                <field attributeName="reportsToAgencyNumber" />
            </resultFields>

        </lookup>
        
        <titleAttribute>agencyNumber</titleAttribute>

        <attributes>

            <attribute name="agencyNumber" forceUppercase="true">
                <label>Agency Number</label>
                <shortLabel>AgencyNbr</shortLabel>

                <maxLength>5</maxLength>
                <validationPattern>
                    <alphaNumeric exactLength="5" />
                </validationPattern>
                <required>false</required>
                <control>
                    <text size="5" />
                </control>

                <summary>Agency Number</summary>
                <description>
                	This is a five-digit unique number which is automatically assigned 
                	to each new Agency that is entered into the system.
                </description>
            </attribute>

            <attribute name="reportingName" forceUppercase="true">
                <label>Agency Reporting Name</label>
                <shortLabel>ReportingNm</shortLabel>

                <maxLength>30</maxLength>

                <validationPattern>
                    <anyCharacter allowWhitespace="true" />
                </validationPattern>
                <required>false</required>
                <control>
                    <text size="30" />
                </control>

                <summary>Agency Reporting Name</summary>
                <description>
                	This is the abbreviated or shortened name associated with each Agency 
                	Number.  The Agency Reporting Name is used for most inquiry screens 
                	and query results, especially where space is a premium.
                </description>
            </attribute>

            <attribute name="fullName" forceUppercase="true">
                <label>Agency Full Name</label>
                <shortLabel>Name</shortLabel>

                <maxLength>50</maxLength>

                <validationPattern>
                    <anyCharacter allowWhitespace="true" />
                </validationPattern>
                <required>false</required>
                <control>
                    <text size="50" />
                </control>

                <summary>Agency Full Name</summary>
                <description>This is the official full name of the Agency.</description>
            </attribute>
            
            <attributeReference name="agencyType.name" sourceClassName="org.kuali.module.cg.bo.AgencyType" sourceAttributeName="name">
				<label>Agency Type Description</label>
				<shortLabel>Agency Type Desc</shortLabel>

                <required>true</required>

                <summary>Agency Type Description</summary>
                <description>
					This is a description of the Agency type, or the category of 
					business that the Agency falls into.  Examples include Federal, 
					Commercial/Industrial, Non-Profit, or Other Government.
				</description>
            </attributeReference>

            <attributeReference name="agencyTypeCode" sourceClassName="org.kuali.module.cg.bo.AgencyType" sourceAttributeName="code">
                <required>false</required>
            </attributeReference>

            <attribute name="historicalIndicator" forceUppercase="false">
                <label>Active Indicator</label>
                <shortLabel>Active Indicator</shortLabel>

                <maxLength>1</maxLength>

                <control>
                    <checkbox />
                </control>

                <summary>Active Indicator</summary>
                <description>
					This field identifies whether the Agency is active in the system or not.  
					Agencies are typically marked as Active.  Examples of instances when an 
					Agency may be marked Inactive include:
					- The agency has gone out of business (occurs frequently with 
							commercial agencies);
					- The agency has reorganized and is renamed (occurs frequently 
							with federal agencies that are reorganized, such as Department 
							of Health, Education and Welfare);
					- The agency has been purchased by a larger entity, or splits into 
							smaller entities.
					In instances when a change such as these occurs, the original Agency is 
					marked Inactive, and a new Agency is added to the system with a new Agency 
					Number.  This allows historical records to reference the original Agency 
					while restricting new proposals and awards from referencing it.
				</description>
            </attribute>

            <attribute name="inStateIndicator" forceUppercase="false">
                <label>In State Indicator</label>
                <shortLabel>In State</shortLabel>

                <maxLength>1</maxLength>

                <control>
                    <checkbox />
                </control>

                <summary>State Indicator</summary>
                <description>Agency In State Indicator</description>
            </attribute>

            <attribute name="indirectAmount" forceUppercase="false">
                <label>Indirect Amount</label>
                <shortLabel>IndAmt</shortLabel>

                <maxLength>20</maxLength>

                <validationPattern>
                    <floatingPoint />
                </validationPattern>

                <control>
                    <currency size="20" formattedMaxLength="12"/>
                </control>

                <summary>Indirect Amount</summary>
                <description>Indirect Amount</description>
                <formatterClass>org.kuali.core.web.format.CurrencyFormatter</formatterClass>
            </attribute>

            <attributeReference name="reportsToAgencyNumber" sourceClassName="org.kuali.module.cg.bo.Agency" sourceAttributeName="agencyNumber">
                <label>Reports To Agency Number</label>
                <shortLabel>Reports To Agency Number</shortLabel>
                <summary>Reports To Agency Number</summary>
                <description>Reports To Agency Number</description>
            </attributeReference>

            <attributeReference name="versionNumber" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="versionNumber" />

        </attributes>

        <relationships>
            <relationship objectAttributeName="agencyType" >
                <primitiveAttribute sourceName="agencyTypeCode" targetName="code" />
                <supportAttribute sourceName="agencyType.name" targetName="name" />
            </relationship>
		</relationships>

    </businessObject>
</dictionaryEntry>


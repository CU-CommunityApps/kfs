<?xml version="1.0" encoding="UTF-8"?>
<!--
 Copyright 2006-2007 The Kuali Foundation.
 
 Licensed under the Educational Community License, Version 1.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at
 
 http://www.opensource.org/licenses/ecl1.php
 
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->
<!DOCTYPE dictionaryEntry PUBLIC
    "-//Kuali Project//DTD Data Dictionary 1.0//EN"
    "../../../core/datadictionary/dataDictionary-1_0.dtd">
<dictionaryEntry>
    <businessObject businessObjectClass="org.kuali.module.cg.bo.Proposal">


        <inquiry>
            <title>Proposal Inquiry</title>

            <inquirySections>
                <inquirySection title="Proposal Details">
                    <inquiryFields>
                        <field attributeName="agencyNumber" />
                        <field attributeName="cfdaNumber" />
                        <field attributeName="federalPassThroughAgencyNumber" />
                        <field attributeName="grantNumber" />
                        <field attributeName="oldProposalNumber" />
                        <field attributeName="proposalAwardTypeCode" />
                        <field attributeName="proposalBeginningDate" />
                        <field attributeName="proposalClosingDate" />
                        <field attributeName="proposalDirectCostAmount" />
                        <field attributeName="proposalDueDate" />
                        <field attributeName="proposalEndingDate" />
                        <field attributeName="proposalFederalPassThroughIndicator" />
                        <field attributeName="proposalFellowName" />
                        <field attributeName="proposalIndirectCostAmount" />
                        <field attributeName="proposalLastUpdateDate" />
                        <field attributeName="proposalNumber" />
                        <field attributeName="proposalProjectTitle" />
                        <field attributeName="proposalPurposeCode" />
                        <field attributeName="proposalRejectedDate" />
                        <field attributeName="proposalStatusCode" />
                        <field attributeName="proposalSubmissionDate" />
                        <field attributeName="proposalTotalAmount" />
                        <field attributeName="proposalTotalProjectAmount" />
                    </inquiryFields>
                </inquirySection>
                <inquirySection title="Organizations">
                    <inquiryFields>
                        <inquiryCollection name="proposalOrganizations" businessObjectClass="org.kuali.module.cg.bo.ProposalOrganization">
                            <field attributeName="chartOfAccountsCode" />
                            <field attributeName="organizationCode" />
                            <field attributeName="proposalPrimaryOrganizationIndicator" />
                            <inquirySummaryFields>
                              <inquirySummaryField attributeName="chartOfAccountsCode" />
                              <inquirySummaryField attributeName="organizationCode" />
                              <inquirySummaryField attributeName="proposalPrimaryOrganizationIndicator" />
                            </inquirySummaryFields>
                        </inquiryCollection>
                    </inquiryFields>
                </inquirySection>
                <inquirySection title="Project Directors">
                    <inquiryFields>
                        <inquiryCollection name="proposalProjectDirectors" businessObjectClass="org.kuali.module.cg.bo.ProposalProjectDirector">
                            <field attributeName="projectDirector.personUserIdentifier"/>
                            <field attributeName="projectDirector.personName"/>
                            <field attributeName="proposalPrimaryProjectDirectorIndicator"/>
                            <field attributeName="proposalProjectDirectorProjectTitle"/>
                            <inquirySummaryFields>
                                <inquirySummaryField attributeName="projectDirector.personName" />
                                <inquirySummaryField attributeName="proposalPrimaryProjectDirectorIndicator" />
                                <inquirySummaryField attributeName="proposalProjectDirectorProjectTitle" />
                            </inquirySummaryFields>
                        </inquiryCollection>
                    </inquiryFields>
                </inquirySection>
                <inquirySection title="Subcontractors">
                    <inquiryFields>
                        <inquiryCollection name="proposalSubcontractors" businessObjectClass="org.kuali.module.cg.bo.ProposalSubcontractor">
                            <field attributeName="subcontractorNumber" />
                            <field attributeName="subcontractor.subcontractorName" />
                            <field attributeName="proposalSubcontractorDescription" />
                            <field attributeName="proposalSubcontractorAmount"/>
                            <inquirySummaryFields>
                                <inquirySummaryField attributeName="subcontractor.subcontractorName" />
                                <inquirySummaryField attributeName="proposalSubcontractorAmount" />
                            </inquirySummaryFields>
                        </inquiryCollection>
                    </inquiryFields>
                </inquirySection>
            </inquirySections>
        </inquiry>

        <lookup>
        	<lookupableID>proposalLookupable</lookupableID>
            <title>Proposal Lookup</title>

            <instructions>Look up a Proposal</instructions>

            <defaultSort sortAscending="true">
                <sortAttributes>
                    <sortAttribute attributeName="proposalNumber" />
                </sortAttributes>
            </defaultSort>

            <lookupFields>
                <lookupField attributeName="proposalNumber" required="false" />
                <lookupField attributeName="agencyNumber" required="false" />
                <lookupField attributeName="proposalTotalAmount" required="false" />
                <lookupField attributeName="proposalBeginningDate" required="false" />
                <lookupField attributeName="proposalEndingDate" required="false" />
                <lookupField attributeName="proposalProjectTitle" required="false" />
				<lookupField attributeName="grantNumber" required="false" />
                <lookupField attributeName="proposalStatusCode" required="false" />
                <lookupField attributeName="federalPassThroughAgencyNumber" required="false" />
                <lookupField attributeName="proposalPurposeCode" required="false" />
                <lookupField attributeName="proposalFellowName" required="false" />
                <lookupField attributeName="proposalOrganizations.organization.organizationCode" required="false" />
                <lookupField attributeName="proposalSubcontractors.subcontractor.subcontractorNumber" required="false" />
                <lookupField attributeName="lookupPersonUniversalIdentifier" required="false" />
                <lookupField attributeName="lookupUniversalUser.personUserIdentifier" required="false" />
                <lookupField attributeName="lookupUniversalUser.personName" required="false" />
            </lookupFields>

            <resultFields>
                <field attributeName="proposalNumber" />
                <field attributeName="agency.fullName" />
                <field attributeName="proposalTotalAmount" />
                <field attributeName="proposalBeginningDate" />
                <field attributeName="proposalEndingDate" />
				<field attributeName="grantNumber" />
                <field attributeName="proposalStatusCode" />
                <field attributeName="proposalOrganizations" />
                <field attributeName="proposalProjectDirectors" />
            </resultFields>

        </lookup>

        <titleAttribute>proposalNumber</titleAttribute>

        <attributes>

            <attributeReference name="proposalOrganizations.organization.organizationCode" sourceClassName="org.kuali.module.chart.bo.Org" sourceAttributeName="organizationCode">
				<label>Organization Code</label>
				<shortLabel>Org Cd</shortLabel>
				<summary>Organization Code</summary>
   				<description>Insert desc here...</description>
            </attributeReference>

            <attributeReference name="proposalSubcontractors.subcontractor.subcontractorNumber" sourceClassName="org.kuali.module.cg.bo.Subcontractor" sourceAttributeName="subcontractorNumber">
				<label>Subcontractor Number</label>
				<shortLabel>Subcontr Num</shortLabel>
				<summary>Proposal Subcontractor Number</summary>
                <description>
					The number which corresponds to the Subcontractor Name.  It is expressed as 5-digit numeric text, including leading zeros.
					When creating a new Subcontractor in the database, this number is automatically assigned by the system.  When adding an existing
					Subcontractor to a Proposal or Award, the user may search for the subcontractor using the search icon, or may manually enter the
					Subcontractor Number into the field.
				</description>
            </attributeReference>
			
            <attributeReference name="proposalProjectDirectors.projectDirector.personUniversalIdentifier" sourceClassName="org.kuali.module.cg.bo.ProjectDirector" sourceAttributeName="personUniversalIdentifier">
				<label>Project Director ID</label>
				<shortLabel>Proj Dir ID</shortLabel>
				<summary>Proposal Project Director ID</summary>
   				<description>Insert desc here...</description>
            </attributeReference>

            <attributeReference name="lookupPersonUniversalIdentifier" sourceClassName="org.kuali.core.bo.user.UniversalUser" sourceAttributeName="personUniversalIdentifier">
                <label>Project Director Unvl ID</label>
                <shortLabel>ProjDirUnvlId</shortLabel>
                <displayLabelAttribute>lookupUniversalUser.personUserIdentifier</displayLabelAttribute>
                <required>true</required>
                <control>
                    <hidden />
                </control>
            </attributeReference>

            <attributeReference name="lookupUniversalUser.personUserIdentifier" sourceClassName="org.kuali.core.bo.user.UniversalUser" sourceAttributeName="personUserIdentifier">
				<label>Project Director User ID</label>
				<shortLabel>Proj Dir User ID</shortLabel>
                <control>
                    <kualiUser universalIdAttributeName="lookupPersonUniversalIdentifier" userIdAttributeName="lookupUniversalUser.personUserIdentifier" personNameAttributeName="lookupUniversalUser.personName" />
                </control>
				<summary>Project Director User ID</summary>
   				<description>Insert desc here...</description>
            </attributeReference>

            <attributeReference name="lookupUniversalUser.personName" sourceClassName="org.kuali.core.bo.user.UniversalUser" sourceAttributeName="personName">
                <label>Project Director User Name</label>
                <shortLabel>Name</shortLabel>
                <required>false</required>
                <control>
                    <hidden />
                </control>
                <summary>
                    <![CDATA[&nbsp;]]>
                </summary>
                <description>The Name of the Project Director.</description>
            </attributeReference>

            <attributeReference name="proposal.grantNumber" sourceClassName="org.kuali.module.cg.bo.Proposal" sourceAttributeName="grantNumber">
				<summary>Grant Number</summary>
				<description>Insert desc here...</description>
            </attributeReference>

            <attributeReference name="agency.fullName" sourceClassName="org.kuali.module.cg.bo.Agency" sourceAttributeName="fullName">
                <label>Agency Name</label>
				<summary>Agency Name</summary>
				<description>Insert desc here...</description>
            </attributeReference>

            <attributeReference name="agencyNumber" sourceClassName="org.kuali.module.cg.bo.Agency" sourceAttributeName="agencyNumber">
				<summary>Agency Number</summary>
				<description>Insert desc here...</description>
            </attributeReference>

            <attribute name="cfdaNumber" forceUppercase="true">
                <label>CFDA Number</label>
                <shortLabel>Number</shortLabel>

                <maxLength>6</maxLength>
                <validationPattern><anyCharacter /></validationPattern>

                <control>
                    <text size="8" />
                </control>

                <summary>CFDA Number</summary>
                <description>CFDA Number description...</description>
			</attribute>

            <attribute name="federalPassThroughAgencyNumber" forceUppercase="true">
                <label>Federal Pass Through Agency Number</label>
                <shortLabel>Number</shortLabel>

                <maxLength>5</maxLength>
                <validationPattern><anyCharacter /></validationPattern>

                <control>
                    <text size="7" />
                </control>

                <summary>Federal Pass Through Agency Number</summary>
                <description>federalPassThroughAgencyNumber description...</description>
			</attribute>

            <attributeReference name="federalPassThroughAgency.fullName" sourceClassName="org.kuali.module.cg.bo.Agency" sourceAttributeName="fullName">
                <label>Federal Pass Through Agency Name</label>
                <shortLabel>FPT Agency Name</shortLabel>
            </attributeReference>

            <attribute name="grantNumber" forceUppercase="true">
                <label>Grant Number</label>
                <shortLabel>Number</shortLabel>

                <maxLength>27</maxLength>
                <validationPattern><anyCharacter allowWhitespace="true"/></validationPattern>

                <control>
                    <text size="29" />
                </control>

                <summary>Grant Number</summary>
                <description>grantNumber description...</description>
			</attribute>

            <attribute name="oldProposalNumber" forceUppercase="true">
                <label>Old Proposal Number</label>
                <shortLabel>Number</shortLabel>

                <maxLength>8</maxLength>
                <validationPattern><anyCharacter /></validationPattern>

                <control>
                    <text size="10" />
                </control>

                <summary>Old Proposal Number</summary>
                <description>oldProposalNumber description...</description>
			</attribute>

            <attributeReference name="proposalAwardTypeCode" sourceClassName="org.kuali.module.cg.bo.ProposalAwardType" sourceAttributeName="proposalAwardTypeCode">
                <label>Type</label>
                <shortLabel>Type</shortLabel>

                <control>
                    <select valuesFinderClass="org.kuali.module.cg.lookup.keyvalues.ProposalAwardTypeValuesFinder" />
                </control>

                <summary>Proposal Award Type Code</summary>
                <description>proposalAwardTypeCode description...</description>
			</attributeReference>

            <attributeReference name="proposalBeginningDate" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="genericDate">
                <label>Start Date</label>
                <shortLabel>Start</shortLabel>

                <summary>
                    Proposal Beginning Date
                </summary>
                <description>proposalBeginningDate description...</description>
			</attributeReference>

            <attributeReference name="proposalClosingDate" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="genericDate">
                <label>Close Date</label>
                <shortLabel>Close</shortLabel>

                <summary>Proposal Closing Date</summary>
                <description>proposalClosingDate description...</description>
			</attributeReference>

            <attributeReference name="proposalDirectCostAmount" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="genericAmount">
                <label>Direct Cost Amount</label>
                <shortLabel>Direct</shortLabel>

                <exclusiveMin>-0.001</exclusiveMin>

                <summary>Proposal Direct Cost Amount</summary>
                <description>proposalDirectCostAmount description...</description>
                <formatterClass>org.kuali.core.web.format.CurrencyFormatter</formatterClass>
            </attributeReference>

            <attributeReference name="proposalDueDate" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="genericDate">
                <label>Due Date</label>
                <shortLabel>Due</shortLabel>

                <summary>Proposal Due Date</summary>
                <description>proposalDueDate description...</description>
			</attributeReference>

            <attributeReference name="proposalEndingDate" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="genericDate">
                <label>Stop Date</label>
                <shortLabel>Stop</shortLabel>

                <summary>Proposal Ending Date</summary>
                <description>proposalEndingDate description...</description>
			</attributeReference>

            <attribute name="proposalFederalPassThroughIndicator" forceUppercase="true">
                <label>Federal Pass Through</label>
                <shortLabel>FPT</shortLabel>

                <maxLength>1</maxLength>

                <control>
                    <checkbox />
                </control>

                <summary>Proposal Federal Pass Through Indicator</summary>
                <description>proposalFederalPassThroughIndicator description...</description>
			</attribute>

            <attribute name="proposalFellowName" forceUppercase="true">
                <label>Fellow Name</label>
                <shortLabel>Fellow</shortLabel>

                <maxLength>30</maxLength>
                <validationPattern><anyCharacter allowWhitespace="true" /></validationPattern>

                <control>
                    <text size="32" />
                </control>

                <summary>Proposal Fellow Name</summary>
                <description>proposalFellowName description...</description>
			</attribute>

            <attributeReference name="proposalIndirectCostAmount" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="genericAmount">
                <label>Indirect Cost Amount</label>
                <shortLabel>Indirect</shortLabel>

                <exclusiveMin>-0.001</exclusiveMin>

                <summary>Proposal Indirect Cost Amount</summary>
                <description>proposalIndirectCostAmount description...</description>
                <formatterClass>org.kuali.core.web.format.CurrencyFormatter</formatterClass>
			</attributeReference>

            <attributeReference name="proposalLastUpdateDate" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="genericDate">
                <label>Last Update</label>
                <shortLabel>Update</shortLabel>

                <summary>Proposal Last Update Date</summary>
                <description>proposalLastUpdateDate description...</description>
			</attributeReference>

            <attribute name="proposalNumber" forceUppercase="true">
                <label>Proposal Number</label>
                <shortLabel>Number</shortLabel>

                <maxLength>12</maxLength>
                <validationPattern><numeric /></validationPattern>

                <control>
                    <text size="14" />
                </control>

                <summary>Proposal Number</summary>
                <description>proposalNumber description...</description>
			</attribute>

            <attribute name="proposalProjectTitle" forceUppercase="true">
                <label>Project Title</label>
                <shortLabel>Title</shortLabel>

                <maxLength>250</maxLength>
                <validationPattern><anyCharacter allowWhitespace="true" /></validationPattern>

                <control>
                    <textarea rows="3" cols="40"/>
                </control>

                <summary>Proposal Project Title</summary>
                <description>proposalProjectTitle description...</description>
			</attribute>

            <attributeReference name="proposalPurposeCode" sourceClassName="org.kuali.module.cg.bo.ProposalPurpose" sourceAttributeName="proposalPurposeCode">

                <label>Purpose</label>
                <shortLabel>Purpose</shortLabel>
                <control>
                    <select valuesFinderClass="org.kuali.module.cg.lookup.keyvalues.ProposalPurposeValuesFinder" />
                </control>

                <summary>
                    Proposal Purpose Code
                </summary>
                <description>A proposal purpose code</description>
            </attributeReference>

            <attributeReference name="proposalRejectedDate" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="genericDate">
                <label>Rejected Date</label>
                <shortLabel>Rejected</shortLabel>

                <summary>Proposal Rejected Date</summary>
                <description>proposalRejectedDate description...</description>
			</attributeReference>

            <attributeReference name="proposalStatusCode" sourceClassName="org.kuali.module.cg.bo.ProposalStatus" sourceAttributeName="proposalStatusCode">

                <label>Status</label>
                <shortLabel>Status</shortLabel>
                <control>
                    <select valuesFinderClass="org.kuali.module.cg.lookup.keyvalues.ProposalStatusValuesFinder" />
                </control>

                <summary>
                    Proposal Status Code
                </summary>
                <description>A proposal status code</description>
            </attributeReference>

            <attributeReference name="proposalSubmissionDate" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="genericDate">
                <label>Submission Date</label>
                <shortLabel>Submit</shortLabel>

                <summary>Proposal Submission Date</summary>
                <description>proposalSubmissionDate description...</description>
			</attributeReference>

            <attributeReference name="proposalTotalAmount" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="genericAmount">
                <label>Total Amount</label>
                <shortLabel>Total</shortLabel>

                <exclusiveMin>-0.001</exclusiveMin>

                <summary>Proposal Total Amount</summary>
                <description>proposalTotalAmount description...</description>
                <formatterClass>org.kuali.core.web.format.CurrencyFormatter</formatterClass>
			</attributeReference>

            <attributeReference name="proposalTotalProjectAmount" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="genericAmount">
                <label>Total Project Amount</label>
                <shortLabel>Total Project</shortLabel>

                <exclusiveMin>-0.001</exclusiveMin>
                
                <summary>Proposal Total Project Amount</summary>
                <description>proposalTotalProjectAmount description...</description>
                <!--formatterClass>org.kuali.core.web.format.CurrencyFormatter</formatterClass-->
			</attributeReference>

            <attributeReference name="versionNumber" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="versionNumber" />

        </attributes>
        
        <collections>
            <collection name="proposalOrganizations">
                <label>Proposal Organizations</label>
                <shortLabel>Organizations</shortLabel>
                <elementLabel>Organization</elementLabel>
                <summary>
                    Proposal Organizations
                </summary>
                <description>Proposal Organizations</description>
            </collection>

            <collection name="proposalProjectDirectors">
                <label>Proposal Project Directors</label>
                <shortLabel>Project Directors</shortLabel>
                <elementLabel>Project Director</elementLabel>
                <summary>
                    Proposal Project Directors
                </summary>
                <description>Proposal Project Directors</description>
            </collection>

            <collection name="proposalSubcontractors">
                <label>Proposal Subcontractor</label>
                <shortLabel>Subcontractors</shortLabel>
                <elementLabel>Subcontractor</elementLabel>
                <summary>
                    Proposal Subcontractors
                </summary>
                <description>Proposal Subcontractors</description>
            </collection>

			<collection name="proposalResearchRisks">
                <label>Proposal Research Risks</label>
                <shortLabel>Research Risks</shortLabel>
                <elementLabel>Research Risk</elementLabel>
                <summary>
                    Proposal Research Risks
                </summary>
                <description>Proposal Research Risks</description>
            </collection>
            
        </collections>
        
        <relationships>
            <relationship objectAttributeName="proposalOrganizations.organization" >
                <primitiveAttribute sourceName="proposalOrganizations.organization.organizationCode" targetName="organizationCode" />
            </relationship>
            <relationship objectAttributeName="proposalSubcontractors.subcontractor" >
                <primitiveAttribute sourceName="proposalSubcontractors.subcontractor.subcontractorNumber" targetName="subcontractorNumber" />
            </relationship>
            <relationship objectAttributeName="proposalProjectDirectors.projectDirector" >
                <primitiveAttribute sourceName="proposalProjectDirectors.projectDirector.personUniversalIdentifier" targetName="personUniversalIdentifier" />
            </relationship>
            <relationship objectAttributeName="lookupUniversalUser" >
                <primitiveAttribute sourceName="lookupPersonUniversalIdentifier" targetName="personUniversalIdentifier" />
				<supportAttribute sourceName="lookupUniversalUser.personUserIdentifier" targetName="personUserIdentifier" identifier="true" />
				<supportAttribute sourceName="lookupUniversalUser.personName" targetName="personName" />
            </relationship>
        </relationships>
        
    </businessObject>
</dictionaryEntry>

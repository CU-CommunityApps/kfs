<?xml version="1.0" encoding="UTF-8"?><beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p" xmlns:dd="http://rice.kuali.org/dd" xsi:schemaLocation="http://www.springframework.org/schema/beans         http://www.springframework.org/schema/beans/spring-beans-2.0.xsd         http://rice.kuali.org/dd         http://rice.kuali.org/dd/dd.xsd">

  <bean id="BudgetDocument" parent="BudgetDocument-parentBean"/>

  <bean id="BudgetDocument-parentBean" abstract="true" parent="TransactionalDocumentEntry">
    
    
    
    
    
    <property name="documentTypeName" value="KBD"/>
    <property name="documentClass" value="org.kuali.kfs.module.cg.document.BudgetDocument"/>
    
    <property name="businessRulesClass" value="org.kuali.kfs.module.cg.document.validation.impl.BudgetDocumentRule"/>
    <property name="preRulesCheckClass" value="org.kuali.kfs.module.cg.document.validation.impl.BudgetDocumentPreRules"/>
        
    <property name="documentAuthorizerClass" value="org.kuali.kfs.module.cg.document.authorization.BudgetDocumentAuthorizer"/>
    <property name="documentPresentationControllerClass" value="org.kuali.kfs.module.cg.document.authorization.BudgetDocumentPresentationController"/>

    <property name="allowsNoteDelete" value="true"/>
    <property name="displayTopicFieldInNotes" value="true"/>
    <property name="sessionDocument" value="true"/>
    <property name="allowsCopy" value="true"/>
    
    <property name="headerNavigationList">
      <list>
        <bean parent="HeaderNavigation">
          <property name="headerTabDisplayName" value="Parameters"/>
          <property name="headerTabNavigateTo" value="parameters"/>
        </bean>
        <bean parent="HeaderNavigation">
          <property name="headerTabDisplayName" value="Overview"/>
          <property name="headerTabNavigateTo" value="overview"/>
        </bean>
        <bean parent="HeaderNavigation">
          <property name="headerTabDisplayName" value="Personnel"/>
          <property name="headerTabNavigateTo" value="personnel"/>
        </bean>
        <bean parent="HeaderNavigation">
          <property name="headerTabDisplayName" value="Nonpersonnel"/>
          <property name="headerTabNavigateTo" value="nonpersonnel"/>
        </bean>
        <bean parent="HeaderNavigation">
          <property name="headerTabDisplayName" value="Cost Share"/>
          <property name="headerTabNavigateTo" value="costshare"/>
        </bean>
        <bean parent="HeaderNavigation">
          <property name="headerTabDisplayName" value="Modular"/>
          <property name="headerTabNavigateTo" value="modular"/>
        </bean>
        <bean parent="HeaderNavigation">
          <property name="headerTabDisplayName" value="Indirect Cost"/>
          <property name="headerTabNavigateTo" value="indirectcost"/>
        </bean>
        <bean parent="HeaderNavigation">
          <property name="headerTabDisplayName" value="Permissions"/>
          <property name="headerTabNavigateTo" value="permissions"/>
        </bean>
        <bean parent="HeaderNavigation">
          <property name="headerTabDisplayName" value="Output"/>
          <property name="headerTabNavigateTo" value="output"/>
        </bean>
        <bean parent="HeaderNavigation">
          <property name="headerTabDisplayName" value="Template"/>
          <property name="headerTabNavigateTo" value="template"/>
        </bean>
        <bean parent="HeaderNavigation">
          <property name="headerTabDisplayName" value="Audit Mode"/>
          <property name="headerTabNavigateTo" value="auditmode"/>
        </bean>
        <bean parent="HeaderNavigation">
          <property name="headerTabDisplayName" value="Notes"/>
          <property name="headerTabNavigateTo" value="notes"/>
        </bean>
      </list>
    </property>

    <property name="workflowAttributes">
      <ref bean="BudgetDocument-workflowAttributes"/>
    </property>
  </bean>
  
  	<!-- workflow attributes for routing -->
	<bean id="BudgetDocument-workflowAttributes" parent="BudgetDocument-workflowAttributes-parentBean"/>

	<bean id="BudgetDocument-workflowAttributes-parentBean" abstract="true" parent="WorkflowAttributes">
    	<property name="routingTypeDefinitions">
    		<map>
    			<entry key="ProjectManagement" value-ref="BudgetDocument-RoutingType-ProjectManagement"/>
    			<entry key="OrganizationHierarchy" value-ref="BudgetDocument-RoutingType-OrganizationHierarchy"/>
    		</map>
    	</property>
	</bean>
	
	<bean id="BudgetDocument-RoutingType-ProjectManagement" class="org.kuali.rice.kns.datadictionary.RoutingTypeDefinition">
		<property name="routingAttributes">
    		<list>
    			<bean class="org.kuali.rice.kns.datadictionary.RoutingAttribute">
    				<property name="qualificationAttributeName" value="principalId"/>
    			</bean>
    		</list>
    	</property>
    	<property name="documentValuePathGroups">
    		<list>
    			<ref bean="DocumentValuePathGroup-ContractsAndGrantsProjectDirector-principalId"/>
    		</list>
    	</property>
	</bean>
	
	<bean id="BudgetDocument-RoutingType-OrganizationHierarchy" class="org.kuali.rice.kns.datadictionary.RoutingTypeDefinition">
		<property name="routingAttributes">
    		<list>
		        <ref bean="RoutingAttribute-chartOfAccountsCode"/>
		        <ref bean="RoutingAttribute-organizationCode"/>
    		</list>
    	</property>
    	<property name="documentValuePathGroups">
    		<list>
    			<bean class="org.kuali.rice.kns.datadictionary.DocumentValuePathGroup">
    				<property name="documentCollectionPath">
    					<bean parent="DocumentCollectionPath-SimpleOrganization">
    						<property name="collectionPath" value="projectDirectorOrganizations"/>
    					</bean>
    				</property>
    			</bean>
    			<bean class="org.kuali.rice.kns.datadictionary.DocumentValuePathGroup">
    				<property name="documentCollectionPath">
    					<bean parent="DocumentCollectionPath-SimpleOrganization">
    						<property name="collectionPath" value="adHocOrganizations"/>
    					</bean>
    				</property>
    			</bean>
    			<bean class="org.kuali.rice.kns.datadictionary.DocumentValuePathGroup">
    				<property name="documentCollectionPath">
    					<bean parent="DocumentCollectionPath-SimpleOrganization">
    						<property name="collectionPath" value="costShareOrganizations"/>
    					</bean>
    				</property>
    			</bean>
    		</list>
    	</property>
	</bean>
</beans>
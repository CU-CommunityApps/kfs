<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:p="http://www.springframework.org/schema/p"
    xmlns:dd="http://rice.kuali.org/dd"
    xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
http://rice.kuali.org/dd http://rice.kuali.org/dd/dd.xsd">

  <bean id="AccountMaintenanceDocument" parent="AccountMaintenanceDocument-parentBean" />

  <bean id="AccountMaintenanceDocument-parentBean" abstract="true" parent="MaintenanceDocumentEntry"
  	p:businessObjectClass="org.kuali.kfs.coa.businessobject.Account"
  	p:maintainableClass="org.kuali.kfs.coa.document.KualiAccountMaintainableImpl">
    <property name="maintainableSections" >
      <list>
        <ref bean="AccountMaintenanceDocument-AccountMaintenance" />
        <ref bean="AccountMaintenanceDocument-AccountResponsibility" />
        <ref bean="AccountMaintenanceDocument-ContractsAndGrants" />
        <ref bean="AccountMaintenanceDocument-GuidelinesAndPurpose" />
        <ref bean="AccountMaintenanceDocument-AccountDescription" />
      </list>
    </property>
    <property name="defaultExistenceChecks" >
      <dd:defaultExistenceChecks>
      	<dd:check boAttribute="organization" attributeToHighlightOnFail="organizationCode" 
      			  activeIndicatorAttribute="organizationActiveIndicator" />
      	<dd:check boAttribute="accountPhysicalCampus" attributeToHighlightOnFail="accountPhysicalCampusCode" />
      	<dd:check boAttribute="accountState" attributeToHighlightOnFail="accountStateCode" />
      	<dd:check boAttribute="postalZipCode" attributeToHighlightOnFail="accountZipCode" />
      	<dd:check boAttribute="accountType" attributeToHighlightOnFail="accountTypeCode" />
      	<dd:check boAttribute="financialHigherEdFunction" attributeToHighlightOnFail="financialHigherEdFunctionCd" />
      	<dd:check boAttribute="reportsToAccount" attributeToHighlightOnFail="reportsToAccountNumber" 
      			  activeIndicatorAttribute="accountClosedIndicator" activeIndicatorReversed="true" />
      	<dd:check boAttribute="continuationAccount" attributeToHighlightOnFail="continuationAccountNumber" 
      			  activeIndicatorAttribute="accountClosedIndicator" activeIndicatorReversed="true" />
      	<dd:check boAttribute="endowmentIncomeAccount" attributeToHighlightOnFail="endowmentIncomeAccountNumber" 
      			  activeIndicatorAttribute="accountClosedIndicator" activeIndicatorReversed="true" />
      	<dd:check boAttribute="indirectCostRecoveryAcct" attributeToHighlightOnFail="indirectCostRecoveryAcctNbr" 
      			  activeIndicatorAttribute="accountClosedIndicator" activeIndicatorReversed="true" />
      	<dd:check boAttribute="sufficientFundsCode" attributeToHighlightOnFail="accountSufficientFundsCode" />
      	<dd:userCheck userAttribute="accountFiscalOfficerUser" />
      	<dd:userCheck userAttribute="accountSupervisoryUser" />
      	<dd:userCheck userAttribute="accountManagerUser" />
      	<dd:check boAttribute="accountRestrictedStatus" attributeToHighlightOnFail="accountRestrictedStatusCode" />
      	<dd:check boAttribute="subFundGroup" attributeToHighlightOnFail="subFundGroupCode" />
      	<dd:check boAttribute="budgetRecordingLevel" attributeToHighlightOnFail="budgetRecordingLevelCode" activeIndicatorAttribute="active" />
      	<dd:check boAttribute="acctIndirectCostRcvyType" attributeToHighlightOnFail="acctIndirectCostRcvyTypeCd" activeIndicatorAttribute="active" />
      </dd:defaultExistenceChecks>
    </property>
    <property name="lockingKeys" >
      <list>
        <value>chartOfAccountsCode</value>
        <value>accountNumber</value>
      </list>
    </property>
    <property name="label" value="Account" />
    <property name="shortLabel" value="Account" />
    <property name="summary" value="Account maintenance document" />
    <property name="description" value="Document used to create or update Account objects" />
    <property name="helpDefinition" >
      <bean parent="HelpDefinition" p:parameterClass="org.kuali.kfs.coa.businessobject.Account" p:parameterName="ACCOUNT" />
    </property>
    <property name="documentTypeName" value="AccountMaintenanceDocument" />
    <property name="businessRulesClass" value="org.kuali.kfs.coa.document.validation.impl.AccountRule" />
    <property name="documentAuthorizerClass" value="org.kuali.kfs.sys.document.authorization.FinancialSystemMaintenanceDocumentAuthorizerBase" />
    <property name="preRulesCheckClass" value="org.kuali.kfs.coa.document.validation.impl.AccountPreRules" />
    <property name="documentTypeCode" value="ACCT" />
    <property name="webScriptFiles" >
      <list>
        <value>../dwr/interface/SubFundGroupService.js</value>
        <value>../scripts/chart/accountDocument.js</value>
      </list>
    </property>
    <property name="workflowProperties" ref="AccountMaintenanceDocument-workflowProperties" />
    <property name="authorizations" >
      <list>
        <bean parent="AuthorizationDefinition"
        	p:action="initiate">
          <property name="authorizedGroups" >
            <set>
              <value>kualiUniversalGroup</value>
            </set>
          </property>
        </bean>
      </list>
    </property>
  </bean>

<!-- Maintenance Section Definitions -->


  <bean id="AccountMaintenanceDocument-AccountMaintenance" parent="AccountMaintenanceDocument-AccountMaintenance-parentBean" />

  <bean id="AccountMaintenanceDocument-AccountMaintenance-parentBean" abstract="true" parent="MaintainableSectionDefinition">
    <property name="title" value="Account Maintenance" />
    <property name="maintainableItems" >
      <list>
        <dd:maintField attributeName="chartOfAccountsCode" required="true" />
        <dd:maintField attributeName="accountNumber" required="true" />
        <dd:maintField attributeName="accountName" required="true" />
        <dd:maintField attributeName="organizationCode" required="true" />
        <dd:maintField attributeName="accountPhysicalCampusCode" required="true" />
        <dd:maintField attributeName="accountCreateDate" />
        <dd:maintField attributeName="accountEffectiveDate" required="true" 
                       defaultValueFinderClass="org.kuali.kfs.sys.businessobject.defaultvalue.CurrentDateMMDDYYYYFinder" />
        <dd:maintField attributeName="accountExpirationDate" />
        <dd:maintField attributeName="accountZipCode" required="true" />
        <dd:maintField attributeName="accountCityName" required="true" />
        <dd:maintField attributeName="accountStateCode" required="true" />
        <dd:maintField attributeName="accountStreetAddress" required="true" />
        <dd:maintField attributeName="accountOffCampusIndicator" />
        <dd:maintField attributeName="accountClosedIndicator" />
        <dd:maintField attributeName="accountTypeCode" required="true" />
        <dd:maintField attributeName="subFundGroupCode" required="true"
                       javascriptLeaveFieldFunction="onblur_subFundGroup"
                       javascriptLeaveFieldCallbackFunction="checkRestrictedStatusCode_Callback" />
        <dd:maintField attributeName="accountsFringesBnftIndicator" defaultValue="true" />
        <dd:maintField attributeName="reportsToChartOfAccountsCode" />
        <dd:maintField attributeName="reportsToAccountNumber" />
        <dd:maintField attributeName="financialHigherEdFunctionCd" required="true" />
        <dd:maintField attributeName="accountRestrictedStatusCode" required="true"
                       javascriptLeaveFieldFunction="onblur_accountRestrictedStatusCode"
                       javascriptLeaveFieldCallbackFunction="checkRestrictedStatusCode_Callback" />
        <dd:maintField attributeName="accountRestrictedStatusDate" />
        <dd:maintField attributeName="endowmentIncomeAcctFinCoaCd" />
        <dd:maintField attributeName="endowmentIncomeAccountNumber" />
        <dd:maintField attributeName="versionNumber" />
        <dd:maintField attributeName="accountGuideline.versionNumber" />
        <dd:maintField attributeName="accountDescription.versionNumber" />
      </list>
    </property>
  </bean>
  <bean id="AccountMaintenanceDocument-AccountResponsibility" parent="AccountMaintenanceDocument-AccountResponsibility-parentBean" />

  <bean id="AccountMaintenanceDocument-AccountResponsibility-parentBean" abstract="true" parent="MaintainableSectionDefinition">
    <property name="title" value="Account Responsibility" />
    <property name="maintainableItems" >
      <list>
        <dd:maintField attributeName="accountFiscalOfficerSystemIdentifier" readOnly="true" required="true" />
        <dd:maintField attributeName="accountFiscalOfficerUser.personUserIdentifier" required="true" />
        <dd:maintField attributeName="accountFiscalOfficerUser.personName" readOnly="true" />
        <dd:maintField attributeName="accountsSupervisorySystemsIdentifier" readOnly="true" required="true" />
        <dd:maintField attributeName="accountSupervisoryUser.personUserIdentifier" required="true" />
        <dd:maintField attributeName="accountSupervisoryUser.personName" readOnly="true" />
        <dd:maintField attributeName="accountManagerSystemIdentifier" readOnly="true" required="true" />
        <dd:maintField attributeName="accountManagerUser.personUserIdentifier" required="true" />
        <dd:maintField attributeName="accountManagerUser.personName" readOnly="true" />

        <dd:maintField attributeName="continuationFinChrtOfAcctCd" />
        <dd:maintField attributeName="continuationAccountNumber" />
        <dd:maintField attributeName="incomeStreamFinancialCoaCode" />
        <dd:maintField attributeName="incomeStreamAccountNumber" />
        <dd:maintField attributeName="budgetRecordingLevelCode" required="true" />
        <dd:maintField attributeName="accountSufficientFundsCode" required="true" />
        <dd:maintField attributeName="pendingAcctSufficientFundsIndicator" />
        <dd:maintField attributeName="extrnlFinEncumSufficntFndIndicator" />
        <dd:maintField attributeName="intrnlFinEncumSufficntFndIndicator" />
        <dd:maintField attributeName="finPreencumSufficientFundIndicator" />
        <dd:maintField attributeName="financialObjectivePrsctrlIndicator" />
      </list>
    </property>
  </bean>
  <bean id="AccountMaintenanceDocument-ContractsAndGrants" parent="AccountMaintenanceDocument-ContractsAndGrants-parentBean" />

  <bean id="AccountMaintenanceDocument-ContractsAndGrants-parentBean" abstract="true" parent="MaintainableSectionDefinition">
    <property name="title" value="Contracts And Grants" />
    <property name="maintainableItems" >
      <list>
        <dd:maintField attributeName="contractControlFinCoaCode" />
        <dd:maintField attributeName="contractControlAccountNumber" />
        <dd:maintField attributeName="acctIndirectCostRcvyTypeCd" />
        <bean parent="MaintainableFieldDefinition"
              p:name="financialIcrSeriesIdentifier"
              p:overrideFieldConversions="financialIcrSeriesIdentifier:financialIcrSeriesIdentifier"
              p:overrideLookupClass="org.kuali.kfs.coa.businessobject.IndirectCostRecoveryRateDetail" />
        <dd:maintField attributeName="indirectCostRcvyFinCoaCode" />
        <dd:maintField attributeName="indirectCostRecoveryAcctNbr" />
        <dd:maintField attributeName="accountCfdaNumber" />
      </list>
    </property>
  </bean>
  <bean id="AccountMaintenanceDocument-GuidelinesAndPurpose" parent="AccountMaintenanceDocument-GuidelinesAndPurpose-parentBean" />

  <bean id="AccountMaintenanceDocument-GuidelinesAndPurpose-parentBean" abstract="true" parent="MaintainableSectionDefinition">
    <property name="title" value="Guidelines And Purpose" />
    <property name="maintainableItems" >
      <list>
        <dd:maintField attributeName="accountGuideline.accountExpenseGuidelineText" required="true" />
        <dd:maintField attributeName="accountGuideline.accountIncomeGuidelineText" required="true" />
        <dd:maintField attributeName="accountGuideline.accountPurposeText" required="true" />
      </list>
    </property>
  </bean>
  <bean id="AccountMaintenanceDocument-AccountDescription" parent="AccountMaintenanceDocument-AccountDescription-parentBean" />

  <bean id="AccountMaintenanceDocument-AccountDescription-parentBean" abstract="true" parent="MaintainableSectionDefinition">
    <property name="title" value="Account Description" />
    <property name="maintainableItems" >
      <list>
        <dd:maintField attributeName="accountDescription.campusDescription" />
        <dd:maintField attributeName="accountDescription.organizationDescription" />
        <dd:maintField attributeName="accountDescription.responsibilityCenterDescription" />
        <dd:maintField attributeName="accountDescription.campusCode" />
        <dd:maintField attributeName="accountDescription.buildingCode" />
      </list>
    </property>
  </bean>

<!-- Exported Workflow Properties -->


  <bean id="AccountMaintenanceDocument-workflowProperties" parent="AccountMaintenanceDocument-workflowProperties-parentBean" />

  <dd:workflow id="AccountMaintenanceDocument-workflowProperties-parentBean" abstract="true">
    <dd:group>
        <dd:path path="newMaintainableObject.businessObject" />
        <dd:path path="oldMaintainableObject.businessObject" />
    </dd:group>    
  </dd:workflow> 
  
</beans>

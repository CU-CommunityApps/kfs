<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE dictionaryEntry PUBLIC
    "-//Kuali Project//DTD Data Dictionary 1.0//EN"
    "../../../../core/datadictionary/dataDictionary-1_0.dtd">

<dictionaryEntry>
  <maintenanceDocument>
    <businessObjectClass>org.kuali.module.chart.bo.Org</businessObjectClass>
    <maintainableClass>
      org.kuali.core.maintenance.KualiMaintainableImpl
    </maintainableClass>

	<businessRulesClass>org.kuali.module.chart.rules.OrgRule</businessRulesClass>
	<preRulesCheckClass>org.kuali.module.chart.rules.OrgPreRules</preRulesCheckClass>	
    <documentAuthorizerClass>org.kuali.module.chart.document.OrgDocumentAuthorizer</documentAuthorizerClass>
    <authorizations>
      <authorization action="initiate">
        <workgroups>
          <workgroup>kualiUniversalGroup</workgroup>
        </workgroups>
      </authorization>
    </authorizations>

    <documentTypeName>KualiOrganizationMaintenanceDocument</documentTypeName>
    <documentTypeCode>ORGN</documentTypeCode>

    <label>Organization Maintenance Document</label>
    <shortLabel>OrgMainDoc</shortLabel>

    <summary>Organization maintenance document</summary>
    <description>
      Document used to create or update Organization objects
    </description>

    <lockingKeys>
      <field attributeName="chartOfAccountsCode" />
      <field attributeName="organizationCode" />
    </lockingKeys>

		<defaultExistenceChecks>
			<reference  attributeName="chartOfAccounts" 
						attributeToHighlightOnFail="chartOfAccountsCode" />
			<reference  attributeName="organizationManagerUniversal" 
						attributeToHighlightOnFail="organizationManagerUniversal.personUserIdentifier" />
			<reference  attributeName="responsibilityCenter" 
						activeIndicatorAttributeName="responsibilityCenterActiveIndicator" 
						attributeToHighlightOnFail="responsibilityCenterCode" />
			<reference  attributeName="organizationPhysicalCampus" 
						attributeToHighlightOnFail="organizationPhysicalCampusCode" />
			<reference  attributeName="organizationType" 
						attributeToHighlightOnFail="organizationTypeCode" />
			<reference  attributeName="organizationDefaultAccount" 
						activeIndicatorAttributeName="accountClosedIndicator" 
						activeIndicatorReversed="true" 
						attributeToHighlightOnFail="organizationDefaultAccountNumber" />
			<reference  attributeName="postalZip" 
						attributeToHighlightOnFail="organizationZipCode" />
			<reference  attributeName="reportsToOrganization" 
						activeIndicatorAttributeName="organizationActiveIndicator" 
						attributeToHighlightOnFail="reportsToOrganizationCode" />
		</defaultExistenceChecks>
		
    <maintainableSections>
      <maintainableSection title="Edit Organization">
        <maintainableItems>
          <maintainableField name="chartOfAccountsCode" required="true" />
          <maintainableField name="organizationCode" required="true" />
          <maintainableField name="organizationName" required="true" />
          
          <maintainableField name="organizationManagerUniversalId" required="true" readOnly="true" />
          <maintainableField name="organizationManagerUniversal.personUserIdentifier" required="true" />
          <maintainableField name="organizationManagerUniversal.personName" required="false" readOnly="true" />
          
          <maintainableField name="responsibilityCenterCode" required="true" />
          <maintainableField name="organizationPhysicalCampusCode" required="true" />
          <maintainableField name="organizationTypeCode" required="true" />
          <maintainableField name="organizationDefaultAccountNumber" required="true" />
          <maintainableField name="organizationZipCode" required="true" />
          <maintainableField name="organizationStreetAddress" required="true" />
          <maintainableField name="organizationCityName" required="true" />
          <maintainableField name="organizationStateCode" required="true" />
          <maintainableField name="organizationBeginDate" required="true">
          	<defaultValueFinderClass>
          		org.kuali.core.lookup.valueFinder.CurrentDateMMDDYYYYFinder
          	</defaultValueFinderClass>
          </maintainableField>
          <maintainableField name="organizationEndDate" />
          <maintainableField name="reportsToChartOfAccountsCode" required="true" />
          <maintainableField name="reportsToOrganizationCode" required="true" />
          <maintainableField name="organizationActiveIndicator">
          	<defaultValue>true</defaultValue>
          </maintainableField>
          <maintainableField name="versionNumber" />
        </maintainableItems>
      </maintainableSection>
      <maintainableSection title="Edit Plant Accounts">
        <maintainableItems>
          <maintainableField name="organizationPlantChartCode" />
          <maintainableField name="organizationPlantAccountNumber" />
          <maintainableField name="campusPlantChartCode" />
          <maintainableField name="campusPlantAccountNumber" />
        </maintainableItems>
      </maintainableSection>
    </maintainableSections>
  </maintenanceDocument>
</dictionaryEntry>

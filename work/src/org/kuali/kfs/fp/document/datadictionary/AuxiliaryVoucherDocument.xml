<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:p="http://www.springframework.org/schema/p"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

  <bean id="AuxiliaryVoucherDocument" parent="AuxiliaryVoucherDocument-parentBean" />

  <bean id="AuxiliaryVoucherDocument-parentBean" abstract="true" parent="TransactionalDocumentEntry">
    <property name="allowsErrorCorrection" value="true" />
    <property name="label" value="Auxiliary Voucher" />
    <property name="shortLabel" value="Auxiliary Voucher" />
    <property name="summary" value="Auxiliary Voucher document" />
    <property name="description" value="blah blah Document blah Auxiliary Voucher blah blah" />
    <property name="helpDefinition" >
      <bean parent="HelpDefinition" p:parameterClass="org.kuali.kfs.fp.document.AuxiliaryVoucherDocument" p:parameterName="AUXILIARY_VOUCHER" />
    </property>
    <property name="documentTypeName" value="AuxiliaryVoucherDocument" />
    <property name="documentClass" value="org.kuali.kfs.fp.document.AuxiliaryVoucherDocument" />
    <property name="businessRulesClass" value="org.kuali.kfs.sys.document.validation.impl.AccountingRuleEngineRuleBase" />
    <property name="documentAuthorizerClass" value="org.kuali.kfs.sys.document.authorization.AccountingDocumentAuthorizerBase" />
    <property name="documentTypeCode" value="AV" />
    <property name="sessionDocument" value="true" />
    <property name="allowsCopy" value="true" />
    <property name="workflowProperties" >
      <ref bean="AuxiliaryVoucherDocument-workflowProperties" />
    </property>
    <property name="authorizations" >
      <list>
        <bean parent="AuthorizationDefinition">
          <property name="action" value="initiate" />
          <property name="authorizedGroups" >
            <set>
              <value>kualiUniversalGroup</value>
            </set>
          </property>
        </bean>
      </list>
    </property>
    <property name="attributes" >
      <list>
        <ref bean="AuxiliaryVoucherDocument-accountingPeriod" />
        <ref bean="AuxiliaryVoucherDocument-typeCode" />
        <ref bean="AuxiliaryVoucherDocument-reversalDate" />
      </list>
    </property>
    <property name="validationMap" ref="AuxiliaryVoucherDocument-validations" />
  </bean>

<!-- Attribute Definitions -->


  <bean id="AuxiliaryVoucherDocument-accountingPeriod" parent="AuxiliaryVoucherDocument-accountingPeriod-parentBean" />

  <bean id="AuxiliaryVoucherDocument-accountingPeriod-parentBean" abstract="true" parent="AttributeDefinition">
    <property name="name" value="accountingPeriod" />
    <property name="forceUppercase" value="false" />
    <property name="label" value="Accounting Period" />
    <property name="shortLabel" value="Acct. Prd." />
    <property name="maxLength" value="50" />
    <property name="validationPattern" >
      <bean parent="AnyCharacterValidationPattern" />
    </property>
    <property name="required" value="true" />
    <property name="control" >
      <bean parent="TextControlDefinition"
            p:size="50" />
    </property>
    <property name="summary" value="&amp;nbsp;" />
    <property name="description" value="The calendar accounting periods during which the Auxiliary Voucher applies.  Select one from the pulldown list." />
  </bean>
  <bean id="AuxiliaryVoucherDocument-typeCode" parent="AuxiliaryVoucherDocument-typeCode-parentBean" />

  <bean id="AuxiliaryVoucherDocument-typeCode-parentBean" abstract="true" parent="AttributeDefinition">
    <property name="name" value="typeCode" />
    <property name="forceUppercase" value="true" />
    <property name="label" value="Auxiliary Voucher Type" />
    <property name="shortLabel" value="AVType" />
    <property name="maxLength" value="4" />
    <property name="validationPattern" >
      <bean parent="AnyCharacterValidationPattern"
            p:exactLength="4" />
    </property>
    <property name="required" value="true" />
    <property name="control" >
      <bean parent="RadioControlDefinition"
            p:valuesFinderClass="org.kuali.kfs.fp.businessobject.options.AuxiliaryVoucherTypeCodeValuesFinder"
            p:includeKeyInLabel="false" />
    </property>
    <property name="summary" value="&amp;nbsp;" />
    <property name="description" value="Voucher type is a 4 character value that is used to state the type of the Auxiliary Voucher. It is represented as a radio button selection." />
  </bean>
  <bean id="AuxiliaryVoucherDocument-reversalDate" parent="AuxiliaryVoucherDocument-reversalDate-parentBean" />

  <bean id="AuxiliaryVoucherDocument-reversalDate-parentBean" abstract="true" parent="GenericAttributes-genericDate">
    <property name="name" value="reversalDate" />
    <property name="label" value="Reversal Date" />
    <property name="shortLabel" value="Reversal Date" />
    <property name="required" value="false" />
    <property name="description" value="The date when the Kuali Financial System (KFS) will automatically reverse the General Ledger entries entered on the document. The reversal date entered must be greater than or equal to today&apos;s date. Use the calendar icon to select and format the Reversal Date." />
  </bean>

<!-- Exported Workflow Properties -->


  <bean id="AuxiliaryVoucherDocument-workflowProperties" parent="AuxiliaryVoucherDocument-workflowProperties-parentBean" />

  <bean id="AuxiliaryVoucherDocument-workflowProperties-parentBean" abstract="true" parent="WorkflowProperties">
    <property name="workflowPropertyGroups" >
      <list>
        <bean parent="WorkflowPropertyGroup">
          <property name="workflowProperties" >
            <list>
              <bean parent="WorkflowProperty"
                    p:path="documentHeader" />
              <bean parent="WorkflowProperty"
                    p:path="sourceAccountingLines" />
              <bean parent="WorkflowProperty"
                    p:path="sourceAccountingLines.account" />
            </list>
          </property>
        </bean>
      </list>
    </property>
  </bean>
  
  <!-- validations -->
  
  <bean id="AuxiliaryVoucherDocument-validations" parent="AuxiliaryVoucherDocument-validations-parentBean" />
  
  <bean id="AuxiliaryVoucherDocument-validations-parentBean" class="org.springframework.beans.factory.config.MapFactoryBean">
  	<property name="sourceMap">
		<map>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedRouteDocumentEvent</value></key>
				<value>AuxiliaryVoucher-routeDocumentValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedApproveDocumentEvent</value></key>
				<value>AuxiliaryVoucher-approveDocumentValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedBlanketApproveDocumentEvent</value></key>
				<value>AuxiliaryVoucher-blanketApproveDocumentValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedAddAccountingLineEvent</value></key>
				<value>AuxiliaryVoucher-addAccountingLineValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedDeleteAccountingLineEvent</value></key>
				<value>AuxiliaryVoucher-deleteAccountingLineValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedUpdateAccountingLineEvent</value></key>
				<value>AuxiliaryVoucher-updateAccountingLineValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedReviewAccountingLineEvent</value></key>
				<value>AuxiliaryVoucher-reviewAccountingLineValidation</value>
			</entry>
    	</map>
    </property>
  </bean>
  
</beans>

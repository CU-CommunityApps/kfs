<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:p="http://www.springframework.org/schema/p"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

  <bean id="ServiceBillingDocument" parent="ServiceBillingDocument-parentBean" />

  <bean id="ServiceBillingDocument-parentBean" abstract="true" parent="TransactionalDocumentEntry">
    <property name="allowsErrorCorrection" value="true" />
    <property name="label" value="Service Billing" />
    <property name="shortLabel" value="Service Billing" />
    <property name="summary" value="&amp;nbsp;" />
    <property name="description" value="The Service Billing (SB) document is used for the billing of goods or services provided by a university department to another university department, reflecting income to the provider and expense to the customer. However, Service Billing differs from Internal Billing document in that it does not route for fiscal officer approval. Approval is by a formal pre-agreement between the service provider and the department being billed, and is based on a service provider&apos;s ability to provide documentation for all transactions. This pre-agreement ensures that only authorized organizations can create a billing without approval routing." />
    <property name="helpDefinition" >
      <bean parent="HelpDefinition" p:parameterClass="org.kuali.kfs.fp.document.ServiceBillingDocument" p:parameterName="SERVICE_BILLING" />
    </property>
    <property name="documentTypeName" value="ServiceBillingDocument" />
    <property name="documentClass" value="org.kuali.kfs.fp.document.ServiceBillingDocument" />
    <property name="businessRulesClass" value="org.kuali.kfs.sys.document.validation.impl.AccountingRuleEngineRuleBase" />
    <property name="documentAuthorizerClass" value="org.kuali.kfs.fp.document.authorization.ServiceBillingDocumentAuthorizer" />
    <property name="documentTypeCode" value="SB" />
    <property name="sessionDocument" value="true" />
    <property name="allowsCopy" value="true" />
    <property name="workflowProperties" >
      <ref bean="ServiceBillingDocument-workflowProperties" />
    </property>
    <property name="authorizations" >
      <list>
        <bean parent="AuthorizationDefinition">
          <property name="action" value="initiate" />
          <property name="authorizedGroups" >
            <set>
              <value>kualiUniversalGroup</value>
            </set>
          </property>
        </bean>
      </list>
    </property>
    <property name="validationMap" ref="ServiceBillingDocument-validations" />
    
  </bean>

<!-- Exported Workflow Properties -->


  <bean id="ServiceBillingDocument-workflowProperties" parent="ServiceBillingDocument-workflowProperties-parentBean" />

  <bean id="ServiceBillingDocument-workflowProperties-parentBean" abstract="true" parent="WorkflowProperties">
    <property name="workflowPropertyGroups" >
      <list>
        <bean parent="WorkflowPropertyGroup">
          <property name="workflowProperties" >
            <list>
              <bean parent="WorkflowProperty"
                    p:path="documentHeader" />
            </list>
          </property>
        </bean>
      </list>
    </property>
  </bean>
  
  <bean id="ServiceBillingDocument-validations" parent="ServiceBillingDocument-validations-parentBean" />
  
  <bean id="ServiceBillingDocument-validations-parentBean" class="org.springframework.beans.factory.config.MapFactoryBean">
  	<property name="sourceMap">
		<map>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedRouteDocumentEvent</value></key>
				<value>ServiceBilling-routeDocumentValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedApproveDocumentEvent</value></key>
				<value>ServiceBilling-approveDocumentValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedBlanketApproveDocumentEvent</value></key>
				<value>ServiceBilling-blanketApproveDocumentValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedAddAccountingLineEvent</value></key>
				<value>ServiceBilling-addAccountingLineValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedDeleteAccountingLineEvent</value></key>
				<value>ServiceBilling-deleteAccountingLineValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedUpdateAccountingLineEvent</value></key>
				<value>ServiceBilling-updateAccountingLineValidation</value>
			</entry>
			<entry>
				<key><value>org.kuali.kfs.sys.document.validation.event.AttributedReviewAccountingLineEvent</value></key>
				<value>ServiceBilling-reviewAccountingLineValidation</value>
			</entry>
    	</map>
    </property>
  </bean>
  
</beans>

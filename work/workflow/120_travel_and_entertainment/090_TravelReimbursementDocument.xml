<?xml version='1.0' encoding='UTF-8'?>
<!-- Copyright 2008-2009 The Kuali Foundation Licensed under the Educational 
    Community License, Version 2.0 (the "License"); you may not use this file 
    except in compliance with the License. You may obtain a copy of the License 
    at http://www.opensource.org/licenses/ecl2.php Unless required by applicable 
    law or agreed to in writing, software distributed under the License is distributed 
    on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either 
    express or implied. See the License for the specific language governing permissions 
    and limitations under the License. -->
<data xmlns="ns:workflow" xmlns:fo="http://www.w3.org/1999/XSL/Format"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="ns:workflow resource:WorkflowData">
    <documentTypes xmlns="ns:workflow/DocumentType"
        xsi:schemaLocation="ns:workflow/DocumentType resource:DocumentType">
        <documentType>
            <name>TR</name>
            <parent>TT</parent>
            <docHandler>${application.url}/temTravelReimbursement.do?methodToCall=docHandler
            </docHandler>
            <label>Travel Reimbursement</label>
            <attributes>
				<attribute>
					<name>FinancialSystemSearchableAttribute</name>
				</attribute>
				<attribute>
					<name>TravelReimbursementDocumentSearchResultProcessorAttribute
					</name>
				</attribute>
				<attribute>
					<name>FinancialSystemDocumentSearchGeneratorAttribute</name>
				</attribute>
			</attributes>
            <active>
                true
            </active>
            <routingVersion>
                2
            </routingVersion>
            <validApplicationStatuses>
                <status>In Process</status>
                <status>Awaiting Traveler Review</status>
                <status>Awaiting Fiscal Officer Review</status>
                <status>Awaiting Travel Accounting Review</status>
                <status>Awaiting Division Review</status>
                <status>Awaiting Special Request Review</status>
                <status>Awaiting International Travel Review</status>
                <status>Awaiting Sub-Fund Review</status>
                <status>Awaiting Award Review</status>
                <status>Awaiting Tax Manager Review</status>
                <status>Awaiting Separation Of Duties Review</status>
                <status>Awaiting Travel Manager Review</status>
                <status>Department Approved</status>
                <status>Disapproved - Traveler</status>
                <status>Disapproved - Fiscal Officer</status>
                <status>Disapproved - Organization</status>
                <status>Disapproved - Division</status>
                <status>Disapproved - Special Request Reviewer</status>
                <status>Disapproved - International Travel Reviewer</status>
                <status>Disapproved - Sub-Fund Review</status>
                <status>Disapproved - Award Review</status>
                <status>Disapproved - Tax Manager Review</status>
                <status>Disapproved - Travel Manager Review</status>
                <status>Cancelled</status>
            </validApplicationStatuses>
            <policies>
                <policy>
                    <name>DEFAULT_APPROVE</name>
                    <value>false</value>
                </policy>
                <policy>
                    <name>DOCUMENT_STATUS_POLICY</name>
                    <stringValue>app</stringValue>
                </policy>
            </policies>
            <routePaths>
                <routePath>
                    <start name="AdHoc" nextNode="TravelRequiresTravelerApproval" nextAppDocStatus="Awaiting Traveler Review"/>
                    <split name="TravelRequiresTravelerApproval" nextNode="TravelRequiresAccountApproval" nextAppDocStatus="Awaiting Traveler Review">
                        <branch name="True">
                            <role name="TravelerReview" nextNode="JoinTravelRequiresTravelerApproval" nextAppDocStatus="Awaiting Fiscal Officer Review" />
                        </branch>
                        <branch name="False">
                            <simple name="NoOpTravelerReview" nextNode="JoinTravelRequiresTravelerApproval" nextAppDocStatus="Awaiting Fiscal Officer Review" />
                        </branch>
                        <join name="JoinTravelRequiresTravelerApproval"/>
                    </split>
                    <split name="TravelRequiresAccountApproval" nextNode="TravelRequiresAccountingReviewer" nextAppDocStatus="Awaiting Fiscal Officer Review">
						<branch name="True">
							<role name="Account" nextNode="JoinRequiresAccountApproval" nextAppDocStatus="Awaiting Travel Accounting Review" />
						</branch>
						<branch name="False">
							<simple name="NoOpAccountApproval" nextNode="JoinRequiresAccountApproval" nextAppDocStatus="Awaiting Travel Accounting Review" />
						</branch>
						<join name="JoinRequiresAccountApproval" />
					</split>
                    <split name="TravelRequiresAccountingReviewer" nextNode="TravelRequiresDivisionApproval" nextAppDocStatus="Awaiting Travel Accounting Review">
                        <branch name="True">
                            <role name="AccountingReviewer" nextNode="JoinRequiresAccountingReview" nextAppDocStatus="Awaiting Division Review" />
                        </branch>
                        <branch name="False">
                            <simple name="NoOpAccountingReviewer" nextNode="JoinRequiresAccountingReview" nextAppDocStatus="Awaiting Division Review" />
                        </branch>
                        <join name="JoinRequiresAccountingReview"/>
                    </split>
                    <split name="TravelRequiresDivisionApproval" nextNode="TravelHasSpecialRequest" nextAppDocStatus="Awaiting Division Review">
                        <branch name="True">
                            <role name="DivisionReviewer" nextNode="JoinRequiresDivisionApprover" nextAppDocStatus="Awaiting Special Request Review" />
                        </branch>
                        <branch name="False">
                            <simple name="NoOpDivisionApprover" nextNode="JoinRequiresDivisionApprover" nextAppDocStatus="Awaiting Special Request Review" />
                        </branch>
                        <join name="JoinRequiresDivisionApprover"/>
                    </split>
                    <split name="TravelHasSpecialRequest" nextNode="TravelIsInternationalTravel" nextAppDocStatus="Awaiting Special Request Review">
						<branch name="True">
							<role name="SpecialRequestReviewer" nextNode="JoinRequiresSpecialRequestReviewer" nextAppDocStatus="Awaiting International Travel Review" />
						</branch>
						<branch name="False">
							<simple name="NoOpSpecialRequestReviewer" nextNode="JoinRequiresSpecialRequestReviewer" nextAppDocStatus="Awaiting International Travel Review" />
						</branch>
						<join name="JoinRequiresSpecialRequestReviewer" />
					</split>
                    <split name="TravelIsInternationalTravel" nextNode="RequiresSubFund" nextAppDocStatus="Awaiting International Travel Review">
						<branch name="True">
							<role name="InternationalTravelReviewer" nextNode="JoinRequiresInternationalTravelReview" nextAppDocStatus="Awaiting Sub-Fund Review" />
						</branch>
						<branch name="False">
							<simple name="NoOpInternationalTravelReviewer" nextNode="JoinRequiresInternationalTravelReview" nextAppDocStatus="Awaiting Sub-Fund Review" />
						</branch>
						<join name="JoinRequiresInternationalTravelReview" />
					</split>
                    <split name="RequiresSubFund" nextNode="RequiresAward" nextAppDocStatus="Awaiting Sub-Fund Review">
						<branch name="True">
							<role name="SubFund" nextNode="JoinRequiresSubFund" nextAppDocStatus="Awaiting Award Review" />
						</branch>
						<branch name="False">
							<simple name="NoOpSubFund" nextNode="JoinRequiresSubFund" nextAppDocStatus="Awaiting Award Review" />
						</branch>
						<join name="JoinRequiresSubFund" />
					</split>
					<split name="RequiresAward" nextNode="TaxManagerApproval" nextAppDocStatus="Awaiting Award Review">
						<branch name="True">
							<role name="Award" nextNode="JoinRequiresAward" nextAppDocStatus="Awaiting Tax Manager Review" />
						</branch>
						<branch name="False">
							<simple name="NoOpAward" nextNode="JoinRequiresAward" nextAppDocStatus="Awaiting Tax Manager Review" />
						</branch>
						<join name="JoinRequiresAward" />
					</split>
					<split name="TaxManagerApproval" nextNode="SeparationOfDuties" nextAppDocStatus="Awaiting Tax Manager Review">
			         	<branch name="True">
			            	<role name="Tax" nextNode="JoinTaxManager" nextAppDocStatus="Awaiting Separation Of Duties Review" />
			         	</branch>
			         	<branch name="False">
			            	<simple name="NoOpTaxManager" nextNode="JoinTaxManager" nextAppDocStatus="Awaiting Separation Of Duties Review" />
			         	</branch>	
			         	<join name="JoinTaxManager" />	         		
	     			</split>
	     			<split name="SeparationOfDuties" nextNode="RequiresAPTravel" nextAppDocStatus="Awaiting Separation Of Duties Review">
			         	<branch name="True">
			            	<role name="SeparationOfDutiesReviewer" nextNode="JoinSeparationOfDutiesReviewer" nextAppDocStatus="Awaiting Travel Manager Review" />
			         	</branch>
			         	<branch name="False">
			            	<simple name="NoOpSeparationOfDutiesReviewer" nextNode="JoinSeparationOfDutiesReviewer" nextAppDocStatus="Awaiting Travel Manager Review" />
			         	</branch>	
			         	<join name="JoinSeparationOfDutiesReviewer" />	         		
	     			</split>
	     			<split name="RequiresAPTravel" nextAppDocStatus="Awaiting Travel Manager Review">
						<branch name="True">
							<role name="APTravel" nextNode="JoinRequiresAPTravel" nextAppDocStatus="Department Approved" />
						</branch>
						<branch name="False">
							<simple name="NoOpAPTravel" nextNode="JoinRequiresAPTravel" nextAppDocStatus="Department Approved" />
						</branch>
						<join name="JoinRequiresAPTravel" />
					</split>   
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="AdHoc" />
                <join name="JoinTravelRequiresTravelerApproval" />
                <simple name="NoOpTravelerReview">
                    <type>org.kuali.rice.kew.engine.node.NoOpNode</type>
                </simple>
                <split name="TravelRequiresTravelerApproval">
                    <type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
                </split>
				<role name="TravelerReview">
					<qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
					<activationType>P</activationType>
				</role>
				<join name="JoinRequiresAccountApproval" />
				<simple name="NoOpAccountApproval">
					<type>org.kuali.rice.kew.engine.node.NoOpNode</type>
				</simple>
				<split name="TravelRequiresAccountApproval">
					<type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
				</split>
                <role name="Account">
                    <qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
                
				<join name="JoinRequiresAccountingReview" />
				<simple name="NoOpAccountingReviewer">
					<type>org.kuali.rice.kew.engine.node.NoOpNode</type>
				</simple>
				<split name="TravelRequiresAccountingReviewer">
					<type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
				</split>
                <role name="AccountingReviewer">
                    <qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
                
                <join name="JoinRequiresDivisionApprover" />
				<simple name="NoOpDivisionApprover">
					<type>org.kuali.rice.kew.engine.node.NoOpNode</type>
				</simple>
				<split name="TravelRequiresDivisionApproval">
					<type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
				</split>
                <role name="DivisionReviewer">
                    <qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
                
                <join name="JoinRequiresSpecialRequestReviewer" />
				<simple name="NoOpSpecialRequestReviewer">
					<type>org.kuali.rice.kew.engine.node.NoOpNode</type>
				</simple>
				<split name="TravelHasSpecialRequest">
					<type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
				</split>
                <role name="SpecialRequestReviewer">
                    <qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
                
                <join name="JoinRequiresInternationalTravelReview" />
				<simple name="NoOpInternationalTravelReviewer">
					<type>org.kuali.rice.kew.engine.node.NoOpNode</type>
				</simple>
				<split name="TravelIsInternationalTravel">
					<type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
				</split>
                <role name="InternationalTravelReviewer">
                    <qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
                
                <join name="JoinRequiresSubFund" />
				<simple name="NoOpSubFund">
					<type>org.kuali.rice.kew.engine.node.NoOpNode</type>
				</simple>
				<split name="RequiresSubFund">
					<type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
				</split>
                <role name="SubFund">
                    <qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
                
                <join name="JoinRequiresAward" />
				<simple name="NoOpAward">
					<type>org.kuali.rice.kew.engine.node.NoOpNode</type>
				</simple>
				<split name="RequiresAward">
					<type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
				</split>
                <role name="Award">
                    <qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
                
                <join name="JoinTaxManager" />
				<simple name="NoOpTaxManager">
					<type>org.kuali.rice.kew.engine.node.NoOpNode</type>
				</simple>
				<split name="TaxManagerApproval">
					<type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
				</split>
                <role name="Tax">
                    <qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
                
                <join name="JoinSeparationOfDutiesReviewer" />
				<simple name="NoOpSeparationOfDutiesReviewer">
					<type>org.kuali.rice.kew.engine.node.NoOpNode</type>
				</simple>
				<split name="SeparationOfDuties">
					<type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
				</split>
                <role name="SeparationOfDutiesReviewer">
                    <qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
	     			
	     		<join name="JoinRequiresAPTravel" />
				<simple name="NoOpAPTravel">
					<type>org.kuali.rice.kew.engine.node.NoOpNode</type>
				</simple>
				<split name="RequiresAPTravel">
					<type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
				</split>
                <role name="APTravel">
                    <qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
            </routeNodes>
        </documentType>

    </documentTypes>
</data>
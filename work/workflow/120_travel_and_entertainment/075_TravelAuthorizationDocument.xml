<?xml version='1.0' encoding='UTF-8'?>
<!-- Copyright 2008-2009 The Kuali Foundation Licensed under the Educational 
	Community License, Version 2.0 (the "License"); you may not use this file 
	except in compliance with the License. You may obtain a copy of the License 
	at http://www.opensource.org/licenses/ecl2.php Unless required by applicable 
	law or agreed to in writing, software distributed under the License is distributed 
	on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either 
	express or implied. See the License for the specific language governing permissions 
	and limitations under the License. -->
<data xmlns="ns:workflow" xmlns:fo="http://www.w3.org/1999/XSL/Format"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="ns:workflow resource:WorkflowData">
	<documentTypes xmlns="ns:workflow/DocumentType"
		xsi:schemaLocation="ns:workflow/DocumentType resource:DocumentType">
		<documentType>
			<name>TA</name>
			<parent>TT</parent>
			<docHandler>${application.url}/temTravelAuthorization.do?methodToCall=docHandler
			</docHandler>
			<label>Travel Authorization</label>
			<attributes>
				<attribute>
					<name>FinancialSystemSearchableAttribute</name>
				</attribute>
				<attribute>
					<name>TravelAuthorizationDocumentSearchResultProcessorAttribute
					</name>
				</attribute>
				<attribute>
					<name>FinancialSystemDocumentSearchGeneratorAttribute</name>
				</attribute>
			</attributes>
			<active>
				true
            </active>
			<routingVersion>
				2
            </routingVersion>
			<validApplicationStatuses>
				<status>In Process</status>
				<status>Awaiting Traveler Review</status>
				<status>Awaiting Fiscal Officer Review</status>
				<status>Awaiting Organization Review</status>
				<status>Awaiting Division Review</status>
                <status>Awaiting Special Request Review</status>
				<status>Awaiting International Travel Review</status>
				<status>Awaiting Risk Management Review</status>
				<status>Awaiting Sub-Fund Review</status>
				<status>Awaiting Award Review</status>
                <status>Awaiting Separation Of Duties Review</status>
				<status>Awaiting Travel Manager Review</status>
				<status>Reimbursement On Hold</status>
				<status>Cancelled</status>
				<status>Closed</status>
                <status>Disapproved - Traveler</status>
				<status>Disapproved - Fiscal Officer</status>
                <status>Disapproved - Organization</status>
				<status>Disapproved - Division</status>
				<status>Disapproved - Special Request</status>
                <status>Disapproved - International Travel</status>
				<status>Disapproved - Risk Management</status>
				<status>Disapproved - Sub-Fund</status>
				<status>Disapproved - Award</status>
                <status>Disapproved - Separation Of Duties</status>
				<status>Disapproved - Travel</status>
				<status>Open For Reimbursement</status>
				<status>Pending Amendment</status>
				<status>Change in Process</status>
				<status>Retired Version</status>
			</validApplicationStatuses>
			<policies>
				<policy>
					<name>DEFAULT_APPROVE</name>
					<value>true</value>
				</policy>
				<policy>
					<name>DOCUMENT_STATUS_POLICY</name>
					<stringValue>app</stringValue>
				</policy>
			</policies>
			<routePaths>
				<routePath>
					<start name="AdHoc" nextNode="TravelRequiresTravelerApproval" nextAppDocStatus="Awaiting Traveler Review" />
					<split name="TravelRequiresTravelerApproval" nextNode="TravelRequiresAccountApproval" nextAppDocStatus="Awaiting Traveler Review">
                        <branch name="True">
                            <role name="TravelerReview" nextNode="JoinTravelRequiresTravelerApproval" nextAppDocStatus="Awaiting Fiscal Officer Review" />
                        </branch>
                        <branch name="False">
                            <simple name="NoOpTravelerReview" nextNode="JoinTravelRequiresTravelerApproval" nextAppDocStatus="Awaiting Fiscal Officer Review" />
                        </branch>
                        <join name="JoinTravelRequiresTravelerApproval"/>
                    </split>
					<split name="TravelRequiresAccountApproval" nextNode="OrganizationHierarchy" nextAppDocStatus="Awaiting Fiscal Officer Review">
                        <branch name="True">
                            <role name="Account" nextNode="JoinRequiresAccountApproval" nextAppDocStatus="Awaiting Organization Review" />
                        </branch>
                        <branch name="False">
                            <simple name="NoOpAccountApproval" nextNode="JoinRequiresAccountApproval" nextAppDocStatus="Awaiting Organization Review" />
                        </branch>
                        <join name="JoinRequiresAccountApproval"/>
                    </split>
					<role name="OrganizationHierarchy" nextNode="TravelRequiresDivisionApproval" />
				    <split name="TravelRequiresDivisionApproval" nextNode="TravelHasSpecialRequest" nextAppDocStatus="Awaiting Division Review">
				        <branch name="True">
                            <role name="DivisionReviewer" nextNode="JoinRequiresDivisionReview" />
                        </branch>
                        <branch name="False">
                            <simple name="NoOpDivisionReviewer" nextNode="JoinRequiresDivisionReview" />
                        </branch>
                        <join name="JoinRequiresDivisionReview"/>
				    </split>
					<split name="TravelHasSpecialRequest" nextNode="TravelIsInternationalTravel" nextAppDocStatus="Awaiting Special Request Review">
						<branch name="True">
							<role name="SpecialRequestReviewer" nextNode="JoinRequiresSpecialRequestReview" />
						</branch>
						<branch name="False">
							<simple name="NoOpSpecialRequestReviewer" nextNode="JoinRequiresSpecialRequestReview" />
						</branch>
						<join name="JoinRequiresSpecialRequestReview"/>
					</split>
                    <split name="TravelIsInternationalTravel" nextNode="TravelNeedsRiskManagement" nextAppDocStatus="Awaiting International Travel Review">
                        <branch name="True">
                            <role name="InternationalTravelReviewer" nextNode="JoinRequiresInternationalTravelReview" />
                        </branch>
                        <branch name="False">
                            <simple name="NoOpInternationalTravelReviewer" nextNode="JoinRequiresInternationalTravelReview" />
                        </branch>
                        <join name="JoinRequiresInternationalTravelReview"/>
                    </split>
                    <split name="TravelNeedsRiskManagement" nextNode="SubFund" nextAppDocStatus="Awaiting Risk Management Review">
                        <branch name="True">
                            <role name="RiskManagement" nextNode="JoinRequiresRiskManagement" nextAppDocStatus="Awaiting Sub-Fund Review" />
                        </branch>
                        <branch name="False">
                            <simple name="NoOpRiskManagement" nextNode="JoinRequiresRiskManagement" nextAppDocStatus="Awaiting Sub-Fund Review" />
                        </branch>
                        <join name="JoinRequiresRiskManagement"/>
                    </split>
					<role name="SubFund" nextNode="Award" nextAppDocStatus="Awaiting Award Review" />
					<role name="Award" nextNode="SeparationOfDuties" nextAppDocStatus="Awaiting Separation Of Duties Review"/>
	     			<split name="SeparationOfDuties" nextNode="TravelAdvanceRequested" nextAppDocStatus="Awaiting Separation Of Duties Review">
			         	<branch name="True">
			            	<role name="SeparationOfDutiesReviewer" nextNode="JoinSeparationOfDutiesReviewer" nextAppDocStatus="Awaiting Travel Manager Review" />
			         	</branch>
			         	<branch name="False">
			            	<simple name="NoOpSeparationOfDutiesReviewer" nextNode="JoinSeparationOfDutiesReviewer" nextAppDocStatus="Awaiting Travel Manager Review" />
			         	</branch>	
			         	<join name="JoinSeparationOfDutiesReviewer" />	         		
	     			</split>
					<split name="TravelAdvanceRequested" nextAppDocStatus="Awaiting Travel Manager Review">
                        <branch name="True">
                            <role name="APTravel" nextNode="JoinTravelAdvanceRequested" nextAppDocStatus="Open For Reimbursement" />
                        </branch>
                        <branch name="False">
                            <simple name="NoOpTravelAdvanceRequested" nextNode="JoinTravelAdvanceRequested" nextAppDocStatus="Open For Reimbursement" />
                        </branch>
                        <join name="JoinTravelAdvanceRequested"/>
                    </split>
				</routePath>
			</routePaths>
			<routeNodes>
				<start name="AdHoc" />
				<join name="JoinTravelRequiresTravelerApproval" />
                <simple name="NoOpTravelerReview">
                    <type>org.kuali.rice.kew.engine.node.NoOpNode</type>
                </simple>
                <split name="TravelRequiresTravelerApproval">
                    <type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
                </split>
				<role name="TravelerReview">
					<qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
					<activationType>P</activationType>
				</role>
				<join name="JoinRequiresAccountApproval" />
                <simple name="NoOpAccountApproval">
                    <type>org.kuali.rice.kew.engine.node.NoOpNode</type>
                </simple>
                <split name="TravelRequiresAccountApproval">
                    <type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode
                    </type>
                </split>
				<role name="Account">
					<qualifierResolverClass>
						org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver
					</qualifierResolverClass>
					<activationType>
						P
                    </activationType>
				</role>
				<role name="OrganizationHierarchy">
					<qualifierResolverClass>
						org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver
					</qualifierResolverClass>
					<activationType>
						P
                    </activationType>
				</role>
				<join name="JoinRequiresDivisionReview" />
                <simple name="NoOpDivisionReviewer">
                    <type>org.kuali.rice.kew.engine.node.NoOpNode</type>
                </simple>
                <split name="TravelRequiresDivisionApproval">
                    <type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode
                    </type>
                </split>
                <role name="DivisionReviewer">
                    <qualifierResolverClass>
                        org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver
                    </qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
				<join name="JoinRequiresSpecialRequestReview" />
				<simple name="NoOpSpecialRequestReviewer">
					<type>org.kuali.rice.kew.engine.node.NoOpNode</type>
				</simple>
				<split name="TravelHasSpecialRequest">
					<type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode
					</type>
				</split>
				<role name="SpecialRequestReviewer">
                    <qualifierResolverClass>
                        org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver
                    </qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
                
                
				<split name="TravelIsInternationalTravel">
                    <type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode
                    </type>
                </split>
                <simple name="NoOpInternationalTravelReviewer">
                    <type>org.kuali.rice.kew.engine.node.NoOpNode</type>
                </simple>
                <join name="JoinRequiresInternationalTravelReview" />
				<role name="InternationalTravelReviewer">
                    <qualifierResolverClass>
                        org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver
                    </qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
                
                
                <split name="TravelNeedsRiskManagement">
                    <type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode
                    </type>
                </split>
                <simple name="NoOpRiskManagement">
                    <type>org.kuali.rice.kew.engine.node.NoOpNode</type>
                </simple>
                <join name="JoinRequiresRiskManagement" />
                <role name="RiskManagement">
                    <qualifierResolverClass>
                        org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver
                    </qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
				<role name="SubFund">
					<qualifierResolverClass>
						org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver
					</qualifierResolverClass>
					<activationType>
						P
          			</activationType>
				</role>
				<role name="Award">
					<qualifierResolverClass>
						org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver
					</qualifierResolverClass>
					<activationType>
						P
          			</activationType>
				</role>
                
				<split name="TravelAdvanceRequested">
                    <type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode
                    </type>
                </split>
                <simple name="NoOpTravelAdvanceRequested">
                    <type>org.kuali.rice.kew.engine.node.NoOpNode</type>
                </simple>
                <join name="JoinTravelAdvanceRequested" />
                <role name="APTravel">
                    <qualifierResolverClass>
                        org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver
                    </qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
                
                <join name="JoinSeparationOfDutiesReviewer" />
				<simple name="NoOpSeparationOfDutiesReviewer">
					<type>org.kuali.rice.kew.engine.node.NoOpNode</type>
				</simple>
				<split name="SeparationOfDuties">
					<type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
				</split>
                <role name="SeparationOfDutiesReviewer">
                    <qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
                
			</routeNodes>
		</documentType>
	</documentTypes>
</data>

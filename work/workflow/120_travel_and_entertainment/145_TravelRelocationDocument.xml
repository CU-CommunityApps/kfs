<?xml version='1.0' encoding='UTF-8'?>
<!-- Copyright 2008-2009 The Kuali Foundation Licensed under the Educational 
    Community License, Version 2.0 (the "License"); you may not use this file 
    except in compliance with the License. You may obtain a copy of the License 
    at http://www.opensource.org/licenses/ecl2.php Unless required by applicable 
    law or agreed to in writing, software distributed under the License is distributed 
    on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either 
    express or implied. See the License for the specific language governing permissions 
    and limitations under the License. -->
<data xmlns="ns:workflow" xmlns:fo="http://www.w3.org/1999/XSL/Format"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="ns:workflow resource:WorkflowData">
    <documentTypes xmlns="ns:workflow/DocumentType"
        xsi:schemaLocation="ns:workflow/DocumentType resource:DocumentType">
        <documentType>
            <name>RELO</name>
            <parent>TT</parent>
            <docHandler>${application.url}/temTravelRelocation.do?methodToCall=docHandler
            </docHandler>
            <label>Moving and Relocation</label>
            <attributes>
				<attribute>
					<name>FinancialSystemSearchableAttribute</name>
				</attribute>
				<attribute>
					<name>TravelRelocationDocumentSearchResultProcessorAttribute
					</name>
				</attribute>
				<attribute>
					<name>FinancialSystemDocumentSearchGeneratorAttribute</name>
				</attribute>
			</attributes>
            <active>
                true
            </active>
            <routingVersion>
                2
            </routingVersion>
            <validApplicationStatuses>
                <status>Awaiting Traveler Review</status>
                <status>Awaiting Fiscal Officer Review</status>
                <status>Awaiting Organization Review</status>
                <status>Awaiting Special Request Review</status>
                <status>Awaiting Executive Review</status>
                <status>Awaiting Sub-Fund Review</status>
                <status>Awaiting Award Review</status>
                <status>Awaiting Tax Manager Review</status>
                <status>Awaiting Separation Of Duties Review</status>
                <status>Awaiting Moving and Relocation Manager Review</status>
                <status>Moving And Relocation Manager Approved</status>
                <status>Disapproved - Traveler</status>
                <status>Disapproved - Fiscal Officer</status>
                <status>Disapproved - Organization</status>
                <status>Disapproved - Special Request</status>
                <status>Disapproved - Executive</status>
                <status>Disapproved - Sub-Fund</status>
                <status>Disapproved - Award</status>
                <status>Disapproved - Tax Manager</status>
                <status>Disapproved - Separation Of Duties</status>
                <status>Disapproved - Moving and Relocation Manager</status>
                <status>Cancelled</status>
                <status>In Process</status>
            </validApplicationStatuses>
            <policies>
                <policy>
                    <name>DEFAULT_APPROVE</name>
                    <value>true</value>
                </policy>
                <policy>
                    <name>DOCUMENT_STATUS_POLICY</name>
                    <stringValue>app</stringValue>
                </policy>
            </policies>
            <routePaths>
                <routePath>
                    <start name="AdHoc" nextNode="TravelRequiresTravelerApproval" nextAppDocStatus="Awaiting Traveler Review" />
					<split name="TravelRequiresTravelerApproval" nextNode="TravelRequiresAccountApproval" nextAppDocStatus="Awaiting Traveler Review">
                        <branch name="True">
                            <role name="TravelerReview" nextNode="JoinTravelRequiresTravelerApproval" nextAppDocStatus="Awaiting Fiscal Officer Review" />
                        </branch>
                        <branch name="False">
                            <simple name="NoOpTravelerReview" nextNode="JoinTravelRequiresTravelerApproval" nextAppDocStatus="Awaiting Fiscal Officer Review" />
                        </branch>
                        <join name="JoinTravelRequiresTravelerApproval"/>
                    </split>
                    <split name="TravelRequiresAccountApproval" nextNode="OrganizationHierarchy"
                        nextAppDocStatus="Awaiting Fiscal Officer Review">
                        <branch name="True">
                            <role name="Account" nextNode="JoinRequiresAccountApproval" nextAppDocStatus="Awaiting Organization Review" />
                        </branch>
                        <branch name="False">
                            <simple name="NoOpAccountApproval" nextNode="JoinRequiresAccountApproval" nextAppDocStatus="Awaiting Organization Review" />
                        </branch>
                        <join name="JoinRequiresAccountApproval"/>
                    </split>
                    <role name="OrganizationHierarchy" nextNode="TravelHasSpecialRequest" nextAppDocStatus="Awaiting Organization Review" />
				    <split name="TravelHasSpecialRequest" nextNode="ExecutiveApproval" nextAppDocStatus="Awaiting Special Request Review">
                        <branch name="True">
                            <role name="SpecialRequestReviewer" nextNode="JoinRequiresSpecialRequestReviewer" nextAppDocStatus="Awaiting Executive Review" />
                        </branch>
                        <branch name="False">
                            <simple name="NoOpSpecialRequestReviewer" nextNode="JoinRequiresSpecialRequestReviewer" nextAppDocStatus="Awaiting Executive Review" />
                        </branch>
                        <join name="JoinRequiresSpecialRequestReviewer" />
                    </split>
					<role name="ExecutiveApproval" nextNode="SubFund" nextAppDocStatus="Awaiting Sub-Fund Review" />				
                    
                    <role name="SubFund" nextNode="Award" nextAppDocStatus="Awaiting Award Review" />
                    <role name="Award" nextNode="TaxManagerApproval" nextAppDocStatus="Awaiting Tax Manager Review" />
                    <split name="TaxManagerApproval" nextNode="SeparationOfDuties" nextAppDocStatus="Awaiting Tax Manager Review">
			         	<branch name="True">
			            	<role name="Tax" nextNode="JoinRequiresTaxManagerReview" nextAppDocStatus="Awaiting Separation Of Duties Review" />
			         	</branch>
			         	<branch name="False">
			            	<simple name="NoOpTaxManager" nextNode="JoinRequiresTaxManagerReview" nextAppDocStatus="Awaiting Separation Of Duties Review" />
			         	</branch>
                        <join name="JoinRequiresTaxManagerReview"/>		         		
	     			</split>
                    <split name="SeparationOfDuties" nextNode="MovingAndRelocationManager" nextAppDocStatus="Awaiting Separation Of Duties Review">
                        <branch name="True">
                            <role name="SeparationOfDutiesReviewer" nextNode="JoinSeparationOfDutiesReviewer" nextAppDocStatus="Awaiting Moving and Relocation Manager Review" />
                        </branch>
                        <branch name="False">
                            <simple name="NoOpSeparationOfDutiesReviewer" nextNode="JoinSeparationOfDutiesReviewer" nextAppDocStatus="Awaiting Moving and Relocation Manager Review" />
                        </branch>   
                        <join name="JoinSeparationOfDutiesReviewer" />                  
                    </split>
                    <role name="MovingAndRelocationManager" nextAppDocStatus="Moving And Relocation Manager Approved" />
                </routePath>
            </routePaths> 
            
            <routeNodes>
            	<start name="AdHoc" />
                <join name="JoinTravelRequiresTravelerApproval" />
                <simple name="NoOpTravelerReview">
                    <type>org.kuali.rice.kew.engine.node.NoOpNode</type>
                </simple>
                <split name="TravelRequiresTravelerApproval">
                    <type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
                </split>
                <role name="TravelerReview">
                    <qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
				<join name="JoinRequiresAccountApproval" />
                <simple name="NoOpAccountApproval">
                    <type>org.kuali.rice.kew.engine.node.NoOpNode</type>
                </simple>
                <split name="TravelRequiresAccountApproval">
                    <type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode
                    </type>
                </split>
				<role name="Account">
					<qualifierResolverClass>
						org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver
					</qualifierResolverClass>
					<activationType>
						P
                    </activationType>
				</role>
				<role name="OrganizationHierarchy">
					<qualifierResolverClass>
						org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver
					</qualifierResolverClass>
					<activationType>
						P
                    </activationType>
				</role>
                
                <join name="JoinRequiresSpecialRequestReviewer" />
                <simple name="NoOpSpecialRequestReviewer">
                    <type>org.kuali.rice.kew.engine.node.NoOpNode</type>
                </simple>
                <split name="TravelHasSpecialRequest">
                    <type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
                </split>
                <role name="SpecialRequestReviewer">
                    <qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
				 
                <role name="ExecutiveApproval">
                    <qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
               </role>
				
				<role name="SubFund">
                    <qualifierResolverClass>
                        org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver
                    </qualifierResolverClass>
                    <activationType>
                        P
                    </activationType>
                </role>
                <role name="Award">
                    <qualifierResolverClass>
                        org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver
                    </qualifierResolverClass>
                    <activationType>
                        P
                    </activationType>
                </role>
                
                <join name="JoinRequiresTaxManagerReview" />
                <split name="TaxManagerApproval">
				    <type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
				</split>
				<simple name="NoOpTaxManager">
				    <type>org.kuali.rice.kew.engine.node.NoOpNode</type>
				</simple>
				
				<role name="Tax">
			        <qualifierResolverClass>
			            org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver
			        </qualifierResolverClass>
			        <activationType>P</activationType>
				</role> 
				
                <join name="JoinSeparationOfDutiesReviewer" />
                <simple name="NoOpSeparationOfDutiesReviewer">
                    <type>org.kuali.rice.kew.engine.node.NoOpNode</type>
                </simple>
                <split name="SeparationOfDuties">
                    <type>org.kuali.kfs.sys.document.workflow.SimpleBooleanSplitNode</type>
                </split>
                <role name="SeparationOfDutiesReviewer">
                    <qualifierResolverClass>org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver</qualifierResolverClass>
                    <activationType>P</activationType>
                </role>
                
                <role name="MovingAndRelocationManager">
                    <qualifierResolverClass>
                        org.kuali.rice.kns.workflow.attribute.DataDictionaryQualifierResolver
                    </qualifierResolverClass>
                    <activationType>
                        P
                    </activationType>
                </role>        
            </routeNodes>           
        </documentType>
    </documentTypes>
</data>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">
	
	<changeSet author="jksmith" id="KFSMI6342_UNORDERED_LINE_ITEM_MESSAGE_PARAMETER">
		<comment>Adds parameter for warning message for when user clicks "add unordered item" button</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-PURAP" />
			<column name="PARM_DTL_TYP_CD" value="LineItemReceiving" />
			<column name="PARM_NM" value="UNORDERED_ITEM_WARNING_IND" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="Y" />
			<column name="PARM_DESC_TXT" value="Indicates whether a warning message shall be given when a user clicks &quot;add unordered item&quot; button. When set to Y the user will receive a warning." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI6315_SEMAPHORE_PROCESSING_INTERVAL_INSERTION">
		<comment>Adds parameter for semaphore processing interval</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-SYS" />
			<column name="PARM_DTL_TYP_CD" value="BatchContainerStep" />
			<column name="PARM_NM" value="SEMAPHORE_PROCESSING_INTERVAL" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="3000" />
			<column name="PARM_DESC_TXT" value="Controls the frequency (in milliseconds) with which the batch container (BatchContainerStep) will check for semaphore step files to process. The semaphore files are created by the brte scripts via BatchStepTrigger." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI5346_ACH_CC_PARAMETER">
		<comment>Adds parameter for KFSMI-5346 cc address for ACH notifications</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-PDP" />
			<column name="PARM_DTL_TYP_CD" value="SendAchAdviceNotificationsStep" />
			<column name="PARM_NM" value="ACH_SUMMARY_CC_EMAIL_ADDRESSES" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="knoreceipt-l@indiana.edu" />
			<column name="PARM_DESC_TXT" value="The pdpSendAchAdviceNotificationsJob generates ACH payment summary email notifications for payees and copies of these emails are sent to the email address(es) specified in this parameter." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI6527_CHANGE_REQUEST_ENABLE_PARAMETER">
		<comment>Adds parameter for KFSMI-6527 which enables or disables change request on the CR</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-FP" />
			<column name="PARM_DTL_TYP_CD" value="CashReceipt" />
			<column name="PARM_NM" value="CHANGE_REQUEST_ENABLED_IND" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="Y" />
			<column name="PARM_DESC_TXT" value="Indicator to turn Cash receipt change request ability on and off." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI6653_UPDATE_BANK_CODE_DOCUMENT_TYPES_PARAMETER">
		<comment>Updates the parameter KFS-SYS / Bank / BANK_CODE_DOCUMENT_TYPES to take out document types which permanently have bank codes.</comment>
		<update tableName="KRNS_PARM_T">
			<column name="TXT" value="DV;PREQ;CM;CTRL"/>
			<where>NMSPC_CD = 'KFS-SYS' and PARM_DTL_TYP_CD = 'Bank' and APPL_NMSPC_CD = 'KFS' and PARM_NM = 'BANK_CODE_DOCUMENT_TYPES'</where>
		</update>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI307_IMMEDIATE_DV_DISBURSEMENT_PERMISSION">
		<comment>Creates a permission to allow KFS-SYS Operations and KFS-FP Disbursement Manager to set a DV for immediate disbursement.</comment>
		<insert tableName="KRIM_PERM_T">
			<column name="PERM_ID" value="KFSSYS6007"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="PERM_TMPL_ID" valueNumeric="(select perm_tmpl_id from krim_perm_tmpl_t where nmspc_cd = 'KR-NS' and nm = 'Use Transactional Document')"/>
			<column name="NMSPC_CD" value="KFS-FP"/>
			<column name="NM" value="Use Transactional Document"/>
			<column name="DESC_TXT" value="Allow Disbursement Voucher to be marked for immediate disbursement by the Pre-Disbursement Processor."/>
			<column name="ACTV_IND" value="Y"/>
		</insert>
		<insert tableName="KRIM_PERM_ATTR_DATA_T">
			<column name="ATTR_DATA_ID" value="KFSSYS6007-1"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="PERM_ID" value="KFSSYS6007"/>
			<column name="KIM_TYP_ID" valueNumeric="(select kim_typ_id from krim_perm_tmpl_t where nmspc_cd = 'KR-NS' and nm = 'Use Transactional Document')"/>
			<column name="KIM_ATTR_DEFN_ID" valueNumeric="(select kim_attr_defn_id from krim_attr_defn_t where nm = 'documentTypeName')"/>
			<column name="ATTR_VAL" value="DV"/>
		</insert>
		<insert tableName="KRIM_PERM_ATTR_DATA_T">
			<column name="ATTR_DATA_ID" value="KFSSYS6007-2"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="PERM_ID" value="KFSSYS6007"/>
			<column name="KIM_TYP_ID" valueNumeric="(select kim_typ_id from krim_perm_tmpl_t where nmspc_cd = 'KR-NS' and nm = 'Use Transactional Document')"/>
			<column name="KIM_ATTR_DEFN_ID" valueNumeric="(select kim_attr_defn_id from krim_attr_defn_t where nm = 'editMode')"/>
			<column name="ATTR_VAL" value="immediateDisbursementEntryMode"/>
		</insert>
		<insert tableName="KRIM_ROLE_PERM_T">
			<column name="ROLE_PERM_ID" value="KFSSYS6007-1"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="ROLE_ID" valueNumeric="(select role_id from krim_role_t where nmspc_cd = 'KFS-FP' and role_nm = 'Disbursement Manager')"/>
			<column name="PERM_ID" value="KFSSYS6007"/>
			<column name="ACTV_IND" value="Y"/>
		</insert>
		<insert tableName="KRIM_ROLE_PERM_T">
			<column name="ROLE_PERM_ID" value="KFSSYS6007-2"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="ROLE_ID" valueNumeric="(select role_id from krim_role_t where nmspc_cd = 'KFS-SYS' and role_nm = 'Operations')"/>
			<column name="PERM_ID" value="KFSSYS6007"/>
			<column name="ACTV_IND" value="Y"/>
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI307_DV_IMMEDIATE_EXTRACT_MAIL_PARAMS">
		<comment>Adds parameters for the from addresses and the to addresses for Disbursement Vouchers which were immediately extracted.</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-FP" />
			<column name="PARM_DTL_TYP_CD" value="DisbursementVoucher" />
			<column name="PARM_NM" value="IMMEDIATE_EXTRACT_NOTIFICATION_FROM_EMAIL_ADDRESS" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="knoreceipt-l@indiana.edu" />
			<column name="PARM_DESC_TXT" value="Email address which sends out the notification that a disbursement voucher was prepared for immediate extraction." />
			<column name="CONS_CD" value="A" />
		</insert>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-FP" />
			<column name="PARM_DTL_TYP_CD" value="DisbursementVoucher" />
			<column name="PARM_NM" value="IMMEDIATE_EXTRACT_NOTIFICATION_TO_EMAIL_ADDRESSES" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="knoreceipt-l@indiana.edu" />
			<column name="PARM_DESC_TXT" value="Email addresses which receive notification that a disbursement voucher was prepared for immediate extraction." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI5918_COLLECTOR_FAILURE_SUBJECT_PARAM">
		<comment>Adds parameter for KFSMI-5918 subject for Collector notification e-mail when failures occur</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-GL" />
			<column name="PARM_DTL_TYP_CD" value="CollectorStep" />
			<column name="PARM_NM" value="VALIDATION_ERROR_EMAIL_SUBJECT_LINE" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="File Uploaded Not Processed" />
			<column name="PARM_DESC_TXT" value="This is the subject line used when the collector sends out email relating to a file that failed validation." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI6285_PROCUREMENT_CARD_DEFAULT_PARAMETERS">
		<comment>Create parameters which turn on various fields in the ProcurementCardDefault business object</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-FP" />
			<column name="PARM_DTL_TYP_CD" value="ProcurementCardCreateDocumentsStep" />
			<column name="PARM_NM" value="PROCUREMENT_CARD_ACCOUNTING_DEFAULT_IND" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="N" />
			<column name="PARM_DESC_TXT" value="If yes, accounting information is displayed / required on the Procurement Card Document Default maintenance document and accounting line information on the Procurement Card document is populated from Procurement Card Document Default table, if present.  If accounting information does not exist in the reference table for a given credit card, the ERROR_TRANSACTION* parameter values will be used.  If No, the accounting line information on the Procurement Card document is generated from the bank file." />
			<column name="CONS_CD" value="A" />
		</insert>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-FP" />
			<column name="PARM_DTL_TYP_CD" value="ProcurementCardCreateDocumentsStep" />
			<column name="PARM_NM" value="PROCUREMENT_CARD_HOLDER_DEFAULT_IND" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="N" />
			<column name="PARM_DESC_TXT" value="If yes, cardholder information is displayed / required on the Procurement Card Document Default maintenance document and cardholder information on the Procurement Card document is populated from Procurement Card Document Default table, if present.  If No, the cardholder information on the Procurement Card document is generated from the bank file." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI6809_DEPRECIATION_BLANK_OUT_PARAMS">
		<comment>Adds parameters to control the more finely tuned running of the Asset Depreciation job during the "blank out period," traditionally in the months around year end.</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-CAM" />
			<column name="PARM_DTL_TYP_CD" value="AssetDepreciationStep" />
			<column name="PARM_NM" value="RUN_DATE" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="" />
			<column name="PARM_DESC_TXT" value="The run date to run the asset depreciation batch job during the blank out period." />
			<column name="CONS_CD" value="A" />
		</insert>
		<insert tableName="KRNS_PARM_T">so 
			<column name="NMSPC_CD" value="KFS-CAM" />
			<column name="PARM_DTL_TYP_CD" value="AssetDepreciationStep" />
			<column name="PARM_NM" value="BLANK_OUT_BEGIN_MMDD" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="" />
			<column name="PARM_DESC_TXT" value="The depreciation blank out period begin month and day (in format MM/DD) when the job should not run automatically." />
			<column name="CONS_CD" value="A" />
		</insert>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-CAM" />
			<column name="PARM_DTL_TYP_CD" value="AssetDepreciationStep" />
			<column name="PARM_NM" value="BLANK_OUT_END_MMDD" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="" />
			<column name="PARM_DESC_TXT" value="The depreciation blank out period end month and day (in format MM/DD) when the job should not run automatically." />
			<column name="CONS_CD" value="A" />
		</insert>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-CAM" />
			<column name="PARM_DTL_TYP_CD" value="AssetDepreciationStep" />
			<column name="PARM_NM" value="BLANK_OUT_PERIOD_RUN_DATE" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="" />
			<column name="PARM_DESC_TXT" value="The run date (in format mm/dd/yyyy) to run the asset depreciation batch job during the blank out period." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI6809_RUN_DATE_NOTIFICATION_PARAM">
		<comment>Adds parameter for KFSMI-6809 which holds the e-mail address for notifications about the Asset Depreciation run date.</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-CAM" />
			<column name="PARM_DTL_TYP_CD" value="AssetDepreciationStep" />
			<column name="PARM_NM" value="RUN_DATE_NOTIFICATION_EMAIL_ADDRESSES" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="" />
			<column name="PARM_DESC_TXT" value="This email list to send a notification when blank out period run date is not set or not in blank out period range." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI4553_NEW_ROLE_FOR_VENDOR_REVIEWER">
		<comment>New KIM role type, role, and responsibility action for KFS-VND Exclude Single Actor Reviewer.  This one is ugly, sorry about that...</comment>
		<insert tableName="KRIM_TYP_T">
			<column name="KIM_TYP_ID" value="KFSMI4553-1"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="NMSPC_CD" value="KFS-SYS"/>
			<column name="NM" value="Exclude Single Actor Separation Of Duties"/>
			<column name="SRVC_NM" value="excludeSingleActorSeparationOfDutiesRoleTypeService"/>
			<column name="ACTV_IND" value="Y"/>
		</insert>
		<insert tableName="KRIM_ROLE_T">
			<column name="ROLE_ID" value="KFSMI4553-2"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="NMSPC_CD" value="KFS-VND"/>
			<column name="ROLE_NM" value="Exclude Single Actor Reviewer"/>
			<column name="KIM_TYP_ID" value="KFSMI4553-1"/>
			<column name="ACTV_IND" value="Y"/>
			<column name="LAST_UPDT_DT" value="SYSDATE"/>
		</insert>
		<insert tableName="KRIM_ROLE_MBR_T">
			<column name="KRIM_ROLE_MBR_ID" value="KFSMI4553-3"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="ROLE_ID" value="KFSMI4553-2"/>
			<column name="MBR_ID" valueNumeric="(select role_id from krim_role_t where nmspc_cd = 'KFS-VND' and role_nm = 'Reviewer')"/>
			<column name="MBR_TYP_CD" value="R"/>
			<column name="LAST_UPDT_DT" value="SYSDATE"/>
		</insert>
		<delete tableName="KRIM_ROLE_RSP_ACTN_T">
			<where>role_rsp_id in (select role_rsp_id from krim_role_rsp_t where role_id = (select role_id from krim_role_t where nmspc_cd = 'KFS-VND' and role_nm = 'Reviewer') and rsp_id = (select krim_rsp_t.rsp_id from krim_rsp_t join ((select rsp_id from krim_rsp_attr_data_t where kim_attr_defn_id = (select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-WKFLW' and nm = 'documentTypeName') and attr_val = 'PVEN') r_a_d1 join (select rsp_id from krim_rsp_attr_data_t where kim_attr_defn_id = (select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-WKFLW' and nm = 'routeNodeName') and attr_val = 'Management') r_a_d2 on r_a_d1.rsp_id = r_a_d2.rsp_id) on krim_rsp_t.rsp_id = r_a_d1.rsp_id where krim_rsp_t.nmspc_cd = 'KFS-VND'))</where>
		</delete>
		<delete tableName="KRIM_ROLE_RSP_T">
			<where>role_id = (select role_id from krim_role_t where nmspc_cd = 'KFS-VND' and role_nm = 'Reviewer') and rsp_id = (select krim_rsp_t.rsp_id from krim_rsp_t join ((select rsp_id from krim_rsp_attr_data_t where kim_attr_defn_id = (select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-WKFLW' and nm = 'documentTypeName') and attr_val = 'PVEN') r_a_d1 join (select rsp_id from krim_rsp_attr_data_t where kim_attr_defn_id = (select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-WKFLW' and nm = 'routeNodeName') and attr_val = 'Management') r_a_d2 on r_a_d1.rsp_id = r_a_d2.rsp_id) on krim_rsp_t.rsp_id = r_a_d1.rsp_id where krim_rsp_t.nmspc_cd = 'KFS-VND')</where>
		</delete>
		<insert tableName="KRIM_ROLE_RSP_T">
			<column name="ROLE_RSP_ID" value="KFSMI4553-4"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="ROLE_ID" value="KFSMI4553-2"/>
			<column name="RSP_ID" valueNumeric="(select krim_rsp_t.rsp_id from krim_rsp_t join ((select rsp_id from krim_rsp_attr_data_t where kim_attr_defn_id = (select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-WKFLW' and nm = 'documentTypeName') and attr_val = 'PVEN') r_a_d1 join (select rsp_id from krim_rsp_attr_data_t where kim_attr_defn_id = (select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-WKFLW' and nm = 'routeNodeName') and attr_val = 'Management') r_a_d2 on r_a_d1.rsp_id = r_a_d2.rsp_id) on krim_rsp_t.rsp_id = r_a_d1.rsp_id where krim_rsp_t.nmspc_cd = 'KFS-VND')"/>
			<column name="ACTV_IND" value="Y"/>
		</insert>
		<insert tableName="KRIM_ROLE_RSP_ACTN_T">
			<column name="ROLE_RSP_ACTN_ID" value="KFSMI4553-5"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="ACTN_TYP_CD" value="A"/>
			<column name="ACTN_PLCY_CD" value="F"/>
			<column name="ROLE_MBR_ID" value="*"/>
			<column name="ROLE_RSP_ID" value="KFSMI4553-4"/>
			<column name="FRC_ACTN" value="Y"/>
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI6732_PREROUTE_EDIT_DOCUMENT_PERMISSION_FOR_PAYMENT_APPLICATION">
		<comment>Creates a permission to allow KR-WKFLW Initiator and KFS-SYS Accounts Receivable Lockbox Manager to edit a Payment Application document pre-route.</comment>
		<insert tableName="KRIM_PERM_T">
			<column name="PERM_ID" value="KFSAR6732"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="PERM_TMPL_ID" valueNumeric="(select perm_tmpl_id from krim_perm_tmpl_t where nmspc_cd = 'KR-NS' and nm = 'Edit Document')"/>
			<column name="NMSPC_CD" value="KFS-AR"/>
			<column name="NM" value="Edit Document"/>
			<column name="DESC_TXT" value="Edit permission for the Payment Application document prior to the document being submitted."/>
			<column name="ACTV_IND" value="Y"/>
		</insert>
		<insert tableName="KRIM_PERM_ATTR_DATA_T">
			<column name="ATTR_DATA_ID" value="KFSAR6732-1"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="PERM_ID" value="KFSAR6732"/>
			<column name="KIM_TYP_ID" valueNumeric="(select kim_typ_id from krim_perm_tmpl_t where nmspc_cd = 'KR-NS' and nm = 'Edit Document')"/>
			<column name="KIM_ATTR_DEFN_ID" valueNumeric="(select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-WKFLW' and nm = 'documentTypeName')"/>
			<column name="ATTR_VAL" value="APP"/>
		</insert>
		<insert tableName="KRIM_PERM_ATTR_DATA_T">
			<column name="ATTR_DATA_ID" value="KFSAR6732-2"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="PERM_ID" value="KFSAR6732"/>
			<column name="KIM_TYP_ID" valueNumeric="(select kim_typ_id from krim_perm_tmpl_t where nmspc_cd = 'KR-NS' and nm = 'Edit Document')"/>
			<column name="KIM_ATTR_DEFN_ID" valueNumeric="(select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-WKFLW' and nm = 'routeNodeName')"/>
			<column name="ATTR_VAL" value="PreRoute"/>
		</insert>
		<insert tableName="KRIM_ROLE_PERM_T">
			<column name="ROLE_PERM_ID" value="KFSAR6732-1"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="ROLE_ID" valueNumeric="(select role_id from krim_role_t where nmspc_cd = 'KFS-SYS' and role_nm = 'Accounts Receivable Lockbox Manager')"/>
			<column name="PERM_ID" value="KFSAR6732"/>
			<column name="ACTV_IND" value="Y"/>
		</insert>
		<insert tableName="KRIM_ROLE_PERM_T">
			<column name="ROLE_PERM_ID" value="KFSAR6732-2"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="ROLE_ID" valueNumeric="(select role_id from krim_role_t where nmspc_cd = 'KR-WKFLW' and role_nm = 'Initiator')"/>
			<column name="PERM_ID" value="KFSAR6732"/>
			<column name="ACTV_IND" value="Y"/>
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI5340_ROLE_FOR_INVOICE_PROCESSING_EDITORS">
		<comment>A new role and a permission associated which will allow a select group of users to edit the processing organization fields on a Customer Invoice document.  Based on SQL by Kalani Ekanayake.</comment>
		<insert tableName="KRIM_ROLE_T">
			<column name="ROLE_ID" value="KFSAR5340R"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="NMSPC_CD" value="KFS-AR"/>
			<column name="ROLE_NM" value="Multi Organization Invoicer"/>
			<column name="KIM_TYP_ID" valueNumeric="(select kim_typ_id from krim_typ_t where nm = 'Default' and nmspc_cd = 'KUALI' and actv_ind = 'Y')"/>
			<column name="ACTV_IND" value="Y"/>
			<column name="LAST_UPDT_DT" value="SYSDATE"/>
		</insert>
		<insert tableName="KRIM_PERM_T">
			<column name="PERM_ID" value="KFSAR5340P"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="PERM_TMPL_ID" valueNumeric="(select perm_tmpl_id from krim_perm_tmpl_t where nmspc_cd = 'KR-NS' and nm = 'Use Transactional Document')"/>
			<column name="NMSPC_CD" value="KFS-AR"/>
			<column name="NM" value="Use Transactional Document"/>
			<column name="DESC_TXT" value="KFS-AR', 'Use Transactional Document', 'Users who can edit the Processing Chart Code and the processing organization fields on the Customer Invoice Document."/>
			<column name="ACTV_IND" value="Y"/>
		</insert>
		<insert tableName="KRIM_PERM_ATTR_DATA_T">
			<column name="ATTR_DATA_ID" value="KFSAR5340P-1"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="PERM_ID" value="KFSAR5340P"/>
			<column name="KIM_TYP_ID" valueNumeric="(select kim_typ_id from krim_perm_tmpl_t where nmspc_cd = 'KR-NS' and nm = 'Use Transactional Document')"/>
			<column name="KIM_ATTR_DEFN_ID" valueNumeric="(select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-WKFLW' and nm = 'documentTypeName')"/>
			<column name="ATTR_VAL" value="INV"/>
		</insert>
		<insert tableName="KRIM_PERM_ATTR_DATA_T">
			<column name="ATTR_DATA_ID" value="KFSAR5340P-2"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="PERM_ID" value="KFSAR5340P"/>
			<column name="KIM_TYP_ID" valueNumeric="(select kim_typ_id from krim_perm_tmpl_t where nmspc_cd = 'KR-NS' and nm = 'Use Transactional Document')"/>
			<column name="KIM_ATTR_DEFN_ID" valueNumeric="(select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-NS' and nm = 'editMode')"/>
			<column name="ATTR_VAL" value="processingOrganizationMode"/>
		</insert>
		<insert tableName="KRIM_ROLE_PERM_T">
			<column name="ROLE_PERM_ID" value="KFSAR5340RP"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1"/>
			<column name="ROLE_ID" value="KFSAR5340R"/>
			<column name="PERM_ID" value="KFSAR5340P"/>
			<column name="ACTV_IND" value="Y"/>
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI6890_PARAMETER_UPDATE_FOR_ACH_BANKS">
		<comment>New parameter on url to find Federal ACH Bank file from, plus update corresponding parameter with bad parameter detail type</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-PDP" />
			<column name="PARM_DTL_TYP_CD" value="Batch" />
			<column name="PARM_NM" value="FEDERAL_ACH_BANK_FILE_URL" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="https://www.fededirectory.frb.org/FedACHdir.txt" />
			<column name="PARM_DESC_TXT" value="The URL of the file to download from the Federal ACH Bank Directory website. This file is then loaded into the ACH bank table." />
			<column name="CONS_CD" value="A" />
		</insert>
		<update tableName="KRNS_PARM_T">
			<column name="PARM_DTL_TYP_CD" value="Batch"/>
			<where>nmspc_cd = 'KFS-PDP' and parm_dtl_typ_cd = 'All' and parm_nm = 'ACH_BANK_INPUT_FILE' and appl_nmspc_cd = 'KFS'</where>
		</update>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI6886_PAYEE_ACH_ADMIN_ROLE">
		<comment>New role for administration of Payee ACH Accounts, with attendant new KIM role type and permissions.  SQL contributed by Ying.</comment>
		<insert tableName="KRIM_TYP_T">
			<column name="KIM_TYP_ID" value="KFSMI6886-TYP"/>
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="NMSPC_CD" value="KFS-PDP" />
			<column name="NM" value="Payee ACH Account" />
			<column name="SRVC_NM" value="payeeACHAccountRoleTypeService" />
			<column name="ACTV_IND" value="Y" />
		</insert>
		<insert tableName="KRIM_ATTR_DEFN_T">
			<column name="KIM_ATTR_DEFN_ID" value="KFSMI6886-ATTRDEF" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="NMSPC_CD" value="KFS-PDP" />
			<column name="NM" value="achTransactionTypeCode" />
			<column name="CMPNT_NM" value="org.kuali.kfs.sys.identity.KfsKimAttributes" />
			<column name="ACTV_IND" value="Y" />
		</insert>
		<insert tableName="KRIM_TYP_ATTR_T">
			<column name="KIM_TYP_ATTR_ID" value="KFSMI6886-TYPEATTR" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="SORT_CD" value="a" />
			<column name="KIM_TYP_ID" value="KFSMI6886-TYP" />
			<column name="KIM_ATTR_DEFN_ID" value="KFSMI6886-ATTRDEF" />
			<column name="ACTV_IND" value="Y" />
		</insert>
		<insert tableName="KRIM_ROLE_T">
			<column name="ROLE_ID" value="KFSMI6886-ROLE" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="NMSPC_CD" value="KFS-PDP" />
			<column name="ROLE_NM" value="Payee ACH Accounts Administrator" />
			<column name="DESC_TXT" value="Administration staff who can view and update Payee ACH Account records and the legacy history of a certain ACH Transaction Type." />
			<column name="KIM_TYP_ID" value="KFSMI6886-TYP" />
			<column name="ACTV_IND" value="Y" />
			<column name="LAST_UPDT_DT" value="SYSDATE" />
		</insert>
		<insert tableName="KRIM_ROLE_MBR_T">
			<column name="ROLE_MBR_ID" value="KFSMI6886-ROLE-P1" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="MBR_ID" valueNumeric="(select prncpl_id from krim_prncpl_t where prncpl_nm = 'ahrens')" />
			<column name="MBR_TYP_CD" value="P" />
			<column name="ROLE_ID" value="KFSMI6886-ROLE" />
			<column name="LAST_UPDT_DT" value="SYSDATE" />
		</insert>
		<insert tableName="KRIM_ROLE_MBR_T">
			<column name="KRIM_ROLE_MBR_ID" value="KFSMI6886-ROLE-P2" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="ROLE_ID" value="KFSMI6886-ROLE" />
			<column name="MBR_ID" valueNumeric="(select prncpl_id from krim_prncpl_t where prncpl_nm = 'dcote')" />
			<column name="MBR_TYP_CD" value="P" />
			<column name="LAST_UPDT_DT" value="SYSDATE" />
		</insert>
		<insert tableName="KRIM_ROLE_MBR_ATTR_DATA_T">
			<column name="ATTR_DATA_ID" value="KFSMI6886-AD1" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="ROLE_MBR_ID" value="KFSMI6886-ROLE-P2" />
			<column name="KIM_TYP_ID" value="KFSMI6886-TYP" />
			<column name="KIM_ATTR_DEFN_ID" value="KFSMI6886-ATTRDEF" />
			<column name="ATTR_VAL" value="E" />
		</insert>
		<insert tableName="KRIM_PERM_T">
			<column name="PERM_ID" value="KFSMI6886-PRM1" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="PERM_TMPL_ID" valueNumeric="(select perm_tmpl_id from krim_perm_tmpl_t where nm = 'Create / Maintain Record(s)' and nmspc_cd = 'KR-NS')" />
			<column name="NMSPC_CD" value="KFS-PDP" />
			<column name="NM" value="Create / Maintain Record(s)" />
			<column name="DESC_TXT" value="Allows to view and update Payee ACH Accounts of a certain transaction type." />
			<column name="ACTV_IND" value="Y" />
		</insert>
		<insert tableName="KRIM_PERM_ATTR_DATA_T">
			<column name="ATTR_DATA_ID" value="KFSMI6886-AT2" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="PERM_ID" value="KFSMI6886-PRM1" />
			<column name="KIM_TYP_ID" valueNumeric="(select kim_typ_id from krim_perm_tmpl_t where nm = 'Create / Maintain Record(s)' and nmspc_cd = 'KR-NS')" />
			<column name="KIM_ATTR_DEFN_ID" valueNumeric="(select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-WKFLW' and nm = 'documentTypeName')" />
			<column name="ATTR_VAL" value="PAAT" />
		</insert>
		<insert tableName="KRIM_PERM_ATTR_DATA_T">
			<column name="ATTR_DATA_ID" value="KFSMI6886-AT2" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="PERM_ID" value="KFSMI6886-PRM1" />
			<column name="KIM_TYP_ID" valueNumeric="(select kim_typ_id from krim_perm_tmpl_t where nm = 'Create / Maintain Record(s)' and nmspc_cd = 'KR-NS')" />
			<column name="KIM_ATTR_DEFN_ID" valueNumeric="(select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-NS' and nm = 'existingRecordsOnly')" />
			<column name="ATTR_VAL" value="false" />
		</insert>
		<insert tableName="KRIM_ROLE_PERM_T">
			<column name="ROLE_PERM_ID" value="KFSMI6886-RLPRM1" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="ROLE_ID" value="KFSMI6886-ROLE" />
			<column name="PERM_ID" value="KFSMI6886-PRM1" />
			<column name="ACTV_IND" value="Y" />
		</insert>
		<insert tableName="KRIM_PERM_T">
			<column name="PERM_ID" value="KFSMI6886-PRM2" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="PERM_TMPL_ID" valueNumeric="(select perm_tmpl_id from krim_perm_tmpl_t where nm = 'Look Up Records' and nmspc_cd = 'KR-NS')" />
			<column name="NMSPC_CD" value="KFS-PDP" />
			<column name="NM" value="Look Up Records" />
			<column name="DESC_TXT" value="Allows the lookup of Payee ACH Account records of certain transaction type(s)." />
			<column name="ACTV_IND" value="Y" />
		</insert>
		<insert tableName="KRIM_PERM_ATTR_DATA_T">
			<column name="ATTR_DATA_ID" value="KFSMI6886-AT3" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="PERM_ID" value="KFSMI6886-PRM2" />
			<column name="KIM_TYP_ID" valueNumeric="(select kim_typ_id from krim_perm_tmpl_t where nm = 'Look Up Records' and nmspc_cd = 'KR-NS')" />
			<column name="KIM_ATTR_DEFN_ID" valueNumeric="(select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-NS' and nm = 'componentName')" />
			<column name="ATTR_VAL" value="PayeeACHAccount" />
		</insert>
		<insert tableName="KRIM_PERM_ATTR_DATA_T">
			<column name="ATTR_DATA_ID" value="KFSMI6886-AT4" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="PERM_ID" value="KFSMI6886-PRM2" />
			<column name="KIM_TYP_ID" valueNumeric="(select kim_typ_id from krim_perm_tmpl_t where nm = 'Look Up Records' and nmspc_cd = 'KR-NS')" />
			<column name="KIM_ATTR_DEFN_ID" valueNumeric="(select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-NS' and nm = 'namespaceCode')" />
			<column name="ATTR_VAL" value="KFS-PDP" />
		</insert>
		<insert tableName="KRIM_ROLE_PERM_T">
			<column name="ROLE_PERM_ID" value="KFSMI6886-RLPRM2" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="ROLE_ID" value="KFSMI6886-ROLE" />
			<column name="PERM_ID" value="KFSMI6886-PRM2" />
			<column name="ACTV_IND" value="Y" />
		</insert>
		<insert tableName="KRIM_PERM_T">
			<column name="PERM_ID" value="KFSMI6886-PRM3" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="PERM_TMPL_ID" valueNumeric="(select perm_tmpl_id from krim_perm_tmpl_t where nm = 'Initiate Document' and nmspc_cd = 'KR-SYS')" />
			<column name="NMSPC_CD" value="KFS-PDP" />
			<column name="NM" value="Initiate Document" />
			<column name="DESC_TXT" value="Allows initiation the PDP Payee ACH Account maintenance document." />
			<column name="ACTV_IND" value="Y" />
		</insert>
		<insert tableName="KRIM_PERM_ATTR_DATA_T">
			<column name="ATTR_DATA_ID" value="KFSMI6886-AT5" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="PERM_ID" value="KFSMI6886-PRM3" />
			<column name="KIM_TYP_ID" valueNumeric="(select kim_typ_id from krim_perm_tmpl_t where nm = 'Initiate Document' and nmspc_cd = 'KR-SYS')" />
			<column name="KIM_ATTR_DEFN_ID" valueNumeric="(select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-WKFLW' and nm = 'documentTypeName')" />
			<column name="ATTR_VAL" value="PAAT" /> <!-- It's PAAT! -->
		</insert>
		<insert tableName="KRIM_ROLE_PERM_T">
			<column name="ROLE_PERM_ID" value="KFSMI6886-RLPRM3" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="ROLE_ID" valueNumeric="(select role_id from krim_role_t where nmspc_cd = 'KFS-PDP' and role_nm = 'Payee ACH Accounts Administrator')" />
			<column name="PERM_ID" value="KFSMI6886-PRM3" />
			<column name="ACTV_IND" value="Y" />
		</insert>
		<insert tableName="KRIM_ROLE_PERM_T">
			<column name="ROLE_PERM_ID" value="KFSMI6886-RLPRM4" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="ROLE_ID" valueNumeric="(select role_id from krim_role_t where nmspc_cd = 'KFS-SYS' and role_nm = 'Operations')" />
			<column name="PERM_ID" value="KFSMI6886-PRM3" />
			<column name="ACTV_IND" value="Y" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI4452_BATCH_LOCKOUT_MESSAGE">
		<comment>Adds parameter for KFSMI-4452 to hold message when documents are locked out by other processes (such as pdp purap immediate extracts job)</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-SYS" />
			<column name="PARM_DTL_TYP_CD" value="All" />
			<column name="PARM_NM" value="DOCUMENT_LOCKOUT_DEFAULT_MESSAGE" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="This document is currently locked out for running batch job." />
			<column name="PARM_DESC_TXT" value="This parameter is to set the default message for the various documents during the lockout time." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI6820_FROM_ADDRESSES_FOR_BATCH_JOBS">
		<comment>Adds parameters for several modules which have batch jobs that need to have specified from e-mail addresses for sent e-mails.  Kalani did the sql on this one.</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-GL" />
			<column name="PARM_DTL_TYP_CD" value="Batch" />
			<column name="PARM_NM" value="FROM_EMAIL_ADDRESS" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="" />
			<column name="PARM_DESC_TXT" value="From email address used for messages sent by the system." />
			<column name="CONS_CD" value="A" />
		</insert>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-LD" />
			<column name="PARM_DTL_TYP_CD" value="Batch" />
			<column name="PARM_NM" value="FROM_EMAIL_ADDRESS" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="" />
			<column name="PARM_DESC_TXT" value="From email address used for messages sent by the system." />
			<column name="CONS_CD" value="A" />
		</insert>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-PDP" />
			<column name="PARM_DTL_TYP_CD" value="Batch" />
			<column name="PARM_NM" value="FROM_EMAIL_ADDRESS" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="" />
			<column name="PARM_DESC_TXT" value="From email address used for messages sent by the system." />
			<column name="CONS_CD" value="A" />
		</insert>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-PURAP" />
			<column name="PARM_DTL_TYP_CD" value="Batch" />
			<column name="PARM_NM" value="FROM_EMAIL_ADDRESS" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="" />
			<column name="PARM_DESC_TXT" value="From email address used for messages sent by the system." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI6944_SCHEDULE_PRIOR_YEAR_JOB">
		<comment>Adds parameter for KFSMI-6944 to specify run date for prior year job, so that job can be scheduled. Megha did the sql here.</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-COA" />
			<column name="PARM_DTL_TYP_CD" value="UpdatePriorYearDataStep" />
			<column name="PARM_NM" value="RUN_DATE" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="06/30/2011" />
			<column name="PARM_DESC_TXT" value="The run date (in format MM/DD/YYYY ) to run the update prior year data job." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI7014_PARAM_TO_INACTIVE_AMOUNT_TOTAL_DURING_POST_PROCESS">
		<comment>Adds parameter for KFSMI-7014 to activate or inactivate whether amount totaling occurs during post-processing.</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-SYS" />
			<column name="PARM_DTL_TYP_CD" value="Document" />
			<column name="PARM_NM" value="UPDATE_TOTAL_AMOUNT_IN_POST_PROCESSING_IND" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="N" />
			<column name="PARM_DESC_TXT" value="Determines whether functionality to update a financial document's total amount during routing post-processing should be carried out." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI7041_PERM_TO_USE_FRINGE_BENEFIT_INQUIRY_ACTION">
		<comment>Create a KR-NS Use Screen template permission for the org.kuali.kfs.module.ld.document.web.struts.FringeBenefitInquiryAction.</comment>
		<insert tableName="KRIM_PERM_T">
			<column name="PERM_ID" value="KFSMI7041-PRM" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="PERM_TMPL_ID" valueNumeric="(select perm_tmpl_id from krim_perm_tmpl_t where nmspc_cd = 'KR-NS' and nm = 'Use Screen')" />
			<column name="NMSPC_CD" value="KFS-LD" />
			<column name="NM" value="Use Screen" />
			<column name="DESC_TXT" value="Permits access to screens controlled by org.kuali.kfs.module.ld.document.web.struts.FringeBenefitInquiryAction" />
			<column name="ACTV_IND" value="Y" />
		</insert>
		<insert tableName="KRIM_PERM_ATTR_DATA_T">
			<column name="ATTR_DATA_ID" value="KFSMI7041-AT1" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="PERM_ID" value="KFSMI7041-PRM" />
			<column name="KIM_TYP_ID" valueNumeric="(select kim_typ_id from krim_perm_tmpl_t where nmspc_cd = 'KR-NS' and nm = 'Use Screen')" />
			<column name="KIM_ATTR_DEFN_ID" valueNumeric="(select kim_attr_defn_id from krim_attr_defn_t where nmspc_cd = 'KR-SYS' and nm = 'actionClass')" />
			<column name="ATTR_VAL" value="org.kuali.kfs.module.ld.document.web.struts.FringeBenefitInquiryAction" />
		</insert>
		<insert tableName="KRIM_ROLE_PERM_T">
			<column name="ROLE_PERM_ID" value="KFSMI7041-RLPRM1" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="ROLE_ID" valueNumeric="(select role_id from krim_role_t where nmspc_cd = 'KFS-SYS' and role_nm = 'User')" />
			<column name="PERM_ID" value="KFSMI7041-PRM" />
			<column name="ACTV_IND" value="Y" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI6319_EINVOICE_OVERRIDE_CAMPUS">
		<comment>Adds parameter for KFSMI-6319 to potentially override the campus used by the e-invoicing process. Megha did the original sql here.</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-PURAP" />
			<column name="PARM_DTL_TYP_CD" value="ElectronicInvoiceStep" />
			<column name="PARM_NM" value="OVERRIDE_PROCESSING_CAMPUS" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="" />
			<column name="PARM_DESC_TXT" value="This parameter is to determine the campus for electronic invoice payments. If parameter value is populated, set the processing campus on the eInvoice generated PREQ to the parameter value. If parameter value is empty, use the Requisition initiator''s campus code." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI7019_CHANGE_MPAY_LBL">
		<comment>Changes the label for the document type MPAY to the more accurate Asset Manual Payment</comment>
		<update tableName="KREW_DOC_TYP_T">
			<column name="LBL" value="Asset Manual Payment"/>
			<where>DOC_TYP_NM = 'MPAY' and CUR_IND = 1 and ACTV_IND = 1</where>
		</update>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI6929_LABOR_LEDGER_ORIGIN_CODES_PARAMETER">
		<comment>Adds parameter for KFSMI-6929 which lists labor ledger origin codes</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-LD" />
			<column name="PARM_DTL_TYP_CD" value="LedgerEntry" />
			<column name="PARM_NM" value="LINK_DOCUMENT_NUMBER_TO_LABOR_ORIGIN_CODES" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="LD;PL" />
			<column name="PARM_DESC_TXT" value="The list of origin codes which will cause a general ledger Entry’s document number on a lookup to form a link to the list of labor ledger entries which created that general ledger entry." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI6964_UPDATE_DOC_TYPE_HELP_URL">
		<comment>Updates the help urls for the MPAY (asset manual payment) and ALOC (asset location) document types.</comment>
		<update tableName="KREW_DOC_TYP_T">
			<column name="HELP_DEF_URL" value="default.htm?turl=WordDocuments%2Fassetmanualpayment.htm" />
			<where>DOC_TYP_NM = 'MPAY' and CUR_IND = 1 AND ACTV_IND = 1</where>
		</update>
		<update tableName="KREW_DOC_TYP_T">
			<column name="HELP_DEF_URL" value="default.htm?turl=WordDocuments%2Fassetlocationglobal.htm" />
			<where>DOC_TYP_NM = 'ALOC' and CUR_IND = 1 AND ACTV_IND = 1</where>
		</update>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSMI7006_CUTOFF_TIME_PARAMETER">
		<comment>Adds parameter to perform cutoff of batch cycle.</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-SYS" />
			<column name="PARM_DTL_TYP_CD" value="Batch" />
			<column name="PARM_NM" value="RUN_DATE_CUTOFF_TIME" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="2:00:00" />
			<column name="PARM_DESC_TXT" value="Time, in 24 hour time format (hh:mm:ss), after which it is considered to be the “next day” for the purposes of evaluating RUN_DATE parameters. For example: Today is 9/27/2011, RUN_DATE=9/27/2011, RUN_DATE_CUTOFF_TIME=2:00:00. Due to a slow running schedule a job triggered by RUN_DATE does not have its turn until 1:00 9/28/2011. The job will still run because the cutoff time is 2 hours after midnight. In this case, anything running after 2:00 is considered the next day." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSCNTRB162_DEBARRED_VENDOR_TRACKING_PERMS_AND_PARMS">
		<comment>New parameters for debarred vendor tracking process as well as the permission to upload the vendor exclusion file.</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-VND" />
			<column name="PARM_DTL_TYP_CD" value="Lookup" />
			<column name="PARM_NM" value="EXCLUSION_AND_DEBARRED_VENDOR_TYPES" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="PO;DV" />
			<column name="PARM_DESC_TXT" value="This parameter identifies the vendor types available as search criteria on the “Vendor Exclusion” and “Debarred Unmatched Vendor” lookups." />
			<column name="CONS_CD" value="A" />
		</insert>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-PURAP" />
			<column name="PARM_DTL_TYP_CD" value="Requisition" />
			<column name="PARM_NM" value="SHOW_DEBARRED_VENDOR_WARNING_IND" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="Y" />
			<column name="PARM_DESC_TXT" value="This indicates whether a warning or an error should be displayed when a debarred vendor is selected in a requisition. If Y then a warning is displayed. If N an error is displayed." />
			<column name="CONS_CD" value="A" />
		</insert>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-PURAP" />
			<column name="PARM_DTL_TYP_CD" value="PurchaseOrder" />
			<column name="PARM_NM" value="SHOW_DEBARRED_VENDOR_WARNING_IND" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="Y" />
			<column name="PARM_DESC_TXT" value="This indicates whether a warning or an error should be displayed when a debarred vendor is selected in a purchase order. If Y then a warning is displayed. If N an error is displayed." />
			<column name="CONS_CD" value="A" />
		</insert>
		<insert tableName="KRIM_PERM_T">
			<column name="PERM_ID" value="KFSCNTRB162-PRM" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="PERM_TMPL_ID" value="select perm_tmpl_id from krim_perm_tmpl_t where nmspc_cd = 'KR-NS' and nm = 'Upload Batch Input File(s)'" />
			<column name="NMSPC_CD" value="KFS-VND" />
			<column name="NM" value="Use Screen" />
			<column name="DESC_TXT" value="Authorizes users to access the Vendor Exclude File Upload page." />
			<column name="ACTV_IND" value="Y" />
		</insert>
		<insert tableName="KRIM_PERM_ATTR_DATA_T">
			<column name="ATTR_DATA_ID" value="KFSCNTRB162-AT1" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="PERM_ID" value="KFSCNTRB162-PRM" />
			<column name="KIM_TYP_ID" valueNumeric="(select kim_typ_id from krim_perm_tmpl_t where nmspc_cd = 'KR-NS' and nm = 'Upload Batch Input File(s)')" />
			<column name="KIM_ATTR_DEFN_ID" valueNumeric="(select kim_attr_defn_id from krim_attr_defn_t where nm = 'beanName')" />
			<column name="ATTR_VAL" value="vendorExcludeInputFileType" />
		</insert>
		<insert tableName="KRIM_ROLE_PERM_T">
			<column name="ROLE_PERM_ID" value="KFSCNTRB162-RLPRM1" />
			<column name="OBJ_ID" valueNumeric="sys_guid()"/>
			<column name="VER_NBR" value="1" />
			<column name="ROLE_ID" valueNumeric="(select role_id from krim_role_t where nmspc_cd = 'KFS-VND' and role_nm = 'Reviewer')" />
			<column name="PERM_ID" value="KFSCNTRB162-PRM" />
			<column name="ACTV_IND" value="Y" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSCNTRB672_BATCH_MAX_FILE_SIZE_PARAMETER">
		<comment>Adds parameter which determines the max size of files which can be uploaded via batch upload.</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-SYS" />
			<column name="PARM_DTL_TYP_CD" value="Batch" />
			<column name="PARM_NM" value="MAX_FILE_SIZE_UPLOAD" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="30M" />
			<column name="PARM_DESC_TXT" value="The size limitation for batch file uploads in megabytes." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSCNTRB56_UPDATE_CFDM_PARENT_DOC_TYPE">
		<comment>Changes the parent document type of the CFDA maintenance document, CFDM, so that it's parent is COSM, the Chart of Accounts simple maintenance document type.</comment>
		<update tableName="KREW_DOC_TYP_T">
			<column name="PARNT_ID" valueNumeric="(select doc_typ_id from krew_doc_typ_t where doc_typ_nm = 'COSM' and cur_ind = 1 and actv_ind = 1)" type="BIGINT"/>
			<where>doc_typ_nm = 'CFDM' and cur_ind = 1 and actv_ind = 1</where>
		</update>
	</changeSet>
	
	<changeSet author="jksmith" id="KFSCNTRB155_DEFAULT_ASSET_MANUFACTURER_PARAMETER">
		<comment>Adds parameter to specify the default asset manufacturer</comment>
		<insert tableName="KRNS_PARM_T">
			<column name="NMSPC_CD" value="KFS-CAM" />
			<column name="PARM_DTL_TYP_CD" value="Asset" />
			<column name="PARM_NM" value="DEFAULT_FABRICATION_ASSET_MANUFACTURER" />
			<column name="APPL_NMSPC_CD" value="KFS" />
			<column name="OBJ_ID" valueNumeric="sys_guid()" />
			<column name="VER_NBR" value="1" />
			<column name="PARM_TYP_CD" value="CONFG" />
			<column name="TXT" value="UNIVERSITY CONSTRUCTED" />
			<column name="PARM_DESC_TXT" value="Default manufacturer name to be used during Asset Fabrication." />
			<column name="CONS_CD" value="A" />
		</insert>
	</changeSet>
	
</databaseChangeLog>
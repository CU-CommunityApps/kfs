-- *********************************************************************
-- Update Database Script
-- *********************************************************************
-- Change Log: ./updates/update.xml
-- Ran at: 7/15/10 1:35 PM
-- Against: kuldemo@jdbc:mysql://localhost:3306/kuldemo
-- LiquiBase version: 1.9.5
-- *********************************************************************



-- Changeset updates/2010-07-15-5578e-2-END_TRAN_ARCHV_SEC_T.xml::5578e-2-1::Bonnie::(MD5Sum: fba07d345e5ab8689166dec79faa4a8)
-- create transaction archive tables
CREATE TABLE `END_TRAN_ARCHV_T` (`FDOC_NBR` VARCHAR(14) NOT NULL, `FDOC_LN_NBR` DECIMAL(7) NOT NULL, `FDOC_LN_TYP_CD` VARCHAR(1) NOT NULL, `TRAN_DESC` VARCHAR(40), `TRAN_TYP_CD` VARCHAR(5) NOT NULL, `TRAN_SUB_TYP_CD` VARCHAR(1) NOT NULL, `TRAN_SRC_TYP_CD` VARCHAR(1) NOT NULL, `TRAN_KEMID` VARCHAR(10) NOT NULL, `TRAN_ETRAN_CD` VARCHAR(9) NOT NULL, `TRAN_LN_DESC` VARCHAR(40), `TRAN_IP_IND_CD` VARCHAR(1) NOT NULL, `TRAN_INC_CSH_AMT` DECIMAL(19,2) NOT NULL, `TRAN_PRIN_CSH_AMT` DECIMAL(19,2) NOT NULL, `TRAN_CORPUS_IND` VARCHAR(1) NOT NULL, `TRAN_CORPUS_AMT` DECIMAL(19,2), `TRAN_PSTD_DT` DATE, CONSTRAINT `PK_END_TRAN_ARCHV_T` PRIMARY KEY (`FDOC_NBR`, `FDOC_LN_NBR`, `FDOC_LN_TYP_CD`));


-- Changeset updates/2010-07-15-5578e-2-END_TRAN_ARCHV_SEC_T.xml::5578e-2-2::Bonnie::(MD5Sum: baf1c7fc7a6a5a8968e512a773d851dc)
-- create transaction archive tables
ALTER TABLE `END_TRAN_ARCHV_T` ADD CONSTRAINT `END_TRAN_ARCHV_TR1` FOREIGN KEY (`FDOC_NBR`) REFERENCES `KRNS_DOC_HDR_T`(`DOC_HDR_ID`);


-- Changeset updates/2010-07-15-5578e-2-END_TRAN_ARCHV_SEC_T.xml::5578e-2-3::Bonnie::(MD5Sum: 423fbc8e6080b918798954414ddcbda4)
-- create transaction archive tables
ALTER TABLE `END_TRAN_ARCHV_T` ADD CONSTRAINT `END_TRAN_ARCHV_TR2` FOREIGN KEY (`TRAN_SUB_TYP_CD`) REFERENCES `END_TRAN_SUB_TYP_T`(`TRAN_SUB_TYP_CD`);


-- Changeset updates/2010-07-15-5578e-2-END_TRAN_ARCHV_SEC_T.xml::5578e-2-4::Bonnie::(MD5Sum: 73e954e9212a4e71a64064cf46b1385c)
-- create transaction archive tables
ALTER TABLE `END_TRAN_ARCHV_T` ADD CONSTRAINT `END_TRAN_ARCHV_TR3` FOREIGN KEY (`TRAN_SRC_TYP_CD`) REFERENCES `END_TRAN_SRC_TYP_T`(`TRAN_SRC_TYP_CD`);


-- Changeset updates/2010-07-15-5578e-2-END_TRAN_ARCHV_SEC_T.xml::5578e-2-5::Bonnie::(MD5Sum: 77722cea8cfe1bb5e136389a968a2f83)
-- create transaction archive tables
ALTER TABLE `END_TRAN_ARCHV_T` ADD CONSTRAINT `END_TRAN_ARCHV_TR4` FOREIGN KEY (`TRAN_KEMID`) REFERENCES `END_KEMID_T`(`KEMID`);


-- Changeset updates/2010-07-15-5578e-2-END_TRAN_ARCHV_SEC_T.xml::5578e-2-6::Bonnie::(MD5Sum: 322662bfd478ffb013d1979e7ebdbdd7)
-- create transaction archive tables
ALTER TABLE `END_TRAN_ARCHV_T` ADD CONSTRAINT `END_TRAN_ARCHV_TR5` FOREIGN KEY (`TRAN_ETRAN_CD`) REFERENCES `END_ETRAN_CD_T`(`ETRAN_CD`);


-- Changeset updates/2010-07-15-5578e-2-END_TRAN_ARCHV_SEC_T.xml::5578e-2-7::Bonnie::(MD5Sum: f3f5f2efdcccaf3795f55e9646739e2a)
-- create transaction archive tables
ALTER TABLE `END_TRAN_ARCHV_T` ADD CONSTRAINT `END_TRAN_ARCHV_TR6` FOREIGN KEY (`TRAN_IP_IND_CD`) REFERENCES `END_IP_IND_T`(`IP_IND_CD`);


-- Changeset updates/2010-07-15-5578e-2-END_TRAN_ARCHV_SEC_T.xml::5578e-2-8::Bonnie::(MD5Sum: 10573391872e412fd193a436b7155fc5)
-- create transaction archive tables
CREATE TABLE `END_TRAN_ARCHV_SEC_T` (`FDOC_NBR` VARCHAR(14) NOT NULL, `FDOC_LN_NBR` DECIMAL(7) NOT NULL, `FDOC_LN_TYP_CD` VARCHAR(1) NOT NULL, `TRAN_SEC_ID` VARCHAR(9) NOT NULL, `TRAN_SEC_REGIS_CD` VARCHAR(4) NOT NULL, `TRAN_SEC_ETRAN_CD` VARCHAR(9), `TRAN_SEC_UNITS` DECIMAL(16,4), `TRAN_SEC_UNIT_VAL` DECIMAL(19,5), `TRAN_SEC_COST` DECIMAL(19,2), `TRAN_SEC_LT_GAIN_LOSS` DECIMAL(19,2), `TRAN_SEC_ST_GAIN_LOSS` DECIMAL(19,2), CONSTRAINT `PK_END_TRAN_ARCHV_SEC_T` PRIMARY KEY (`FDOC_NBR`, `FDOC_LN_NBR`, `FDOC_LN_TYP_CD`));


-- Changeset updates/2010-07-15-5578e-2-END_TRAN_ARCHV_SEC_T.xml::5578e-2-9::Bonnie::(MD5Sum: a82af39e74583977f77ce38dea36f9)
-- create transaction archive tables
ALTER TABLE `END_TRAN_ARCHV_SEC_T` ADD CONSTRAINT `END_TRAN_ARCHV_SEC_TR1` FOREIGN KEY (`FDOC_NBR`, `FDOC_LN_TYP_CD`, `FDOC_LN_NBR`) REFERENCES `END_TRAN_ARCHV_T`(`FDOC_NBR`, `FDOC_LN_TYP_CD`, `FDOC_LN_NBR`);


-- Changeset updates/2010-07-15-5578e-2-END_TRAN_ARCHV_SEC_T.xml::5578e-2-10::Bonnie::(MD5Sum: 8d4fd5eb28cac4e63c8cbb631bd76c8c)
-- create transaction archive tables
ALTER TABLE `END_TRAN_ARCHV_SEC_T` ADD CONSTRAINT `END_TRAN_ARCHV_SEC_TR2` FOREIGN KEY (`TRAN_SEC_ID`) REFERENCES `END_SEC_T`(`SEC_ID`);


-- Changeset updates/2010-07-15-5578e-2-END_TRAN_ARCHV_SEC_T.xml::5578e-2-11::Bonnie::(MD5Sum: 56278724fe7bd15a496c08ead7a6c7a)
-- create transaction archive tables
ALTER TABLE `END_TRAN_ARCHV_SEC_T` ADD CONSTRAINT `END_TRAN_ARCHV_SEC_TR3` FOREIGN KEY (`TRAN_SEC_REGIS_CD`) REFERENCES `END_REGIS_CD_T`(`REGIS_CD`);


-- Release Database Lock

-- Release Database Lock


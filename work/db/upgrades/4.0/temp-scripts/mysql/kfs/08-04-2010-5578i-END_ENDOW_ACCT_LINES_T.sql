-- *********************************************************************
-- Update Database Script
-- *********************************************************************
-- Change Log: ./updates/update.xml
-- Ran at: 8/6/10 8:17 AM
-- Against: kuldemo@jdbc:mysql://localhost:3306/kuldemo
-- LiquiBase version: 1.9.5
-- *********************************************************************



-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-1::Daniela::(MD5Sum: 62256f57976342a077b1dbb3e3e4c)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_ENDOW_ACCT_LINES_T` DROP FOREIGN KEY `ENDOW_ACCT_LINES_TR3`;


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-2::Daniela::(MD5Sum: 4b30cac5df5f22b01ad96443ebf8fdb)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_ENDOW_ACCT_LINES_T` DROP FOREIGN KEY `ENDOW_ACCT_LINES_TR4`;


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-3::Daniela::(MD5Sum: 6c396a2ca2fc9be2505dd3281b0df)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_ENDOW_ACCT_LINES_T` DROP FOREIGN KEY `ENDOW_ACCT_LINES_TR6`;


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-4::Daniela::(MD5Sum: cc84f0df1834f624c25fa0d31f366aa7)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_ENDOW_ACCT_LINES_T` ADD CONSTRAINT `ENDOW_ACCT_LINES_TR3` FOREIGN KEY (`FIN_COA_CD`) REFERENCES `CA_CHART_T`(`FIN_COA_CD`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-5::Daniela::(MD5Sum: 15a348c6eed4ab232e77a5d896e4556)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_ENDOW_ACCT_LINES_T` DROP FOREIGN KEY `ENDOW_ACCT_LINES_TR7`;


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-6::Daniela::(MD5Sum: cefef88138c7dcf686c3bb15dccd99)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_ENDOW_ACCT_LINES_T` ADD CONSTRAINT `ENDOW_ACCT_LINES_TR4` FOREIGN KEY (`FIN_COA_CD`, `ACCOUNT_NBR`) REFERENCES `CA_ACCOUNT_T`(`FIN_COA_CD`, `ACCOUNT_NBR`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-7::Daniela::(MD5Sum: 75a3576076eb11898abedf48690bdf7)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_ENDOW_ACCT_LINES_T` DROP COLUMN `FDOC_POST_YR`;


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-8::Daniela::(MD5Sum: e7641fb228f5fa1544a24c452912852)
-- create transactional document basic tables in KULDBA
CREATE TABLE `END_REC_CSH_XFT_T` (`XFR_NBR` VARCHAR(14) NOT NULL, `SRC_KEMID` VARCHAR(10) NOT NULL, `TRAN_DOC_TYP_CD` VARCHAR(5) NOT NULL, `SRC_ETRAN_CD` VARCHAR(9) NOT NULL, `SRC_LN_DESC` VARCHAR(40), `SRC_IP_IND_CD` VARCHAR(1) NOT NULL, `FREQ_CD` VARCHAR(4) NOT NULL, `NXT_PROC_DT` DATE NOT NULL, `LST_PROC_DT` DATE, `ROW_ACTV_IND` VARCHAR(1) NOT NULL, `OBJ_ID` VARCHAR(36) NOT NULL, `VER_NBR` DECIMAL(8, 0) DEFAULT '1' NOT NULL, CONSTRAINT `PK_END_REC_CSH_XFT_T` PRIMARY KEY (`XFR_NBR`, `SRC_KEMID`));


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-9::Daniela::(MD5Sum: e03af7dfd774be3ff58f7c231f47e32c)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_REC_CSH_XFT_T` ADD CONSTRAINT `END_REC_CSH_XFT_TR1` FOREIGN KEY (`SRC_KEMID`) REFERENCES `END_KEMID_T`(`KEMID`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-10::Daniela::(MD5Sum: ad111e2b848ee514e67a1a80ba7612)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_REC_CSH_XFT_T` ADD CONSTRAINT `END_REC_CSH_XFT_TR2` FOREIGN KEY (`SRC_ETRAN_CD`) REFERENCES `END_ETRAN_CD_T`(`ETRAN_CD`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-11::Daniela::(MD5Sum: 543fc3fa19da72857a1d624a91a6d54)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_REC_CSH_XFT_T` ADD CONSTRAINT `END_REC_CSH_XFT_TR3` FOREIGN KEY (`SRC_IP_IND_CD`) REFERENCES `END_IP_IND_T`(`IP_IND_CD`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-12::Daniela::(MD5Sum: e21cee5c81c95b950252f8a9c2f4bb4)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_REC_CSH_XFT_T` ADD CONSTRAINT `END_REC_CSH_XFT_TR4` FOREIGN KEY (`FREQ_CD`) REFERENCES `END_FREQ_CD_T`(`FREQ_CD`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-13::Daniela::(MD5Sum: 6ace3388f92dbfa76b6d875fb9b2627b)
-- create transactional document basic tables in KULDBA
CREATE TABLE `END_REC_CSH_XFT_KEMID_TGT_T` (`XFR_NBR` VARCHAR(14) NOT NULL, `SRC_KEMID` VARCHAR(10) NOT NULL, `TGT_SEQ_NBR` VARCHAR(14) NOT NULL, `TGT_KEMID` VARCHAR(10) NOT NULL, `TGT_ETRAN_CD` VARCHAR(9) NOT NULL, `TGT_LN_DESC` VARCHAR(40), `TGT_IP_IND_CD` VARCHAR(1) NOT NULL, `TGT_AMT` DECIMAL(19,2) DEFAULT '0.00', `TGT_PCT` DECIMAL(3,2) DEFAULT '0.00', `TGT_USE_ETRAN_CD` VARCHAR(9), `ROW_ACTV_IND` VARCHAR(1) NOT NULL, `OBJ_ID` VARCHAR(36) NOT NULL, `VER_NBR` DECIMAL(8, 0) DEFAULT '1' NOT NULL, CONSTRAINT `PK_END_REC_CSH_XFT_KEMID_TGT_T` PRIMARY KEY (`XFR_NBR`, `SRC_KEMID`, `TGT_SEQ_NBR`));


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-14::Daniela::(MD5Sum: 84ff52c7ba5145307c7a244eed7634)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_REC_CSH_XFT_KEMID_TGT_T` ADD CONSTRAINT `END_REC_CSH_XFT_KEMID_TGT_TR1` FOREIGN KEY (`XFR_NBR`, `SRC_KEMID`) REFERENCES `END_REC_CSH_XFT_T`(`XFR_NBR`, `SRC_KEMID`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-15::Daniela::(MD5Sum: ff2d7c68e37f6adb68b0c22fe53117)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_REC_CSH_XFT_KEMID_TGT_T` ADD CONSTRAINT `END_REC_CSH_XFT_KEMID_TGT_TR2` FOREIGN KEY (`TGT_KEMID`) REFERENCES `END_KEMID_T`(`KEMID`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-16::Daniela::(MD5Sum: 86d1a344025ae412245c0cffea8a590)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_REC_CSH_XFT_KEMID_TGT_T` ADD CONSTRAINT `END_REC_CSH_XFT_KEMID_TGT_TR3` FOREIGN KEY (`TGT_ETRAN_CD`) REFERENCES `END_ETRAN_CD_T`(`ETRAN_CD`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-17::Daniela::(MD5Sum: d8b4212acda790d4cfd886428a3e5d4b)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_REC_CSH_XFT_KEMID_TGT_T` ADD CONSTRAINT `END_REC_CSH_XFT_KEMID_TGT_TR4` FOREIGN KEY (`TGT_IP_IND_CD`) REFERENCES `END_IP_IND_T`(`IP_IND_CD`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-18::Daniela::(MD5Sum: 4c16ef48ebd99845e6773729ecf1617a)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_REC_CSH_XFT_KEMID_TGT_T` ADD CONSTRAINT `END_REC_CSH_XFT_KEMID_TGT_TR5` FOREIGN KEY (`TGT_USE_ETRAN_CD`) REFERENCES `END_ETRAN_CD_T`(`ETRAN_CD`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-19::Daniela::(MD5Sum: dcd6fe6f4c91820dc642ce0a1b1c)
-- create transactional document basic tables in KULDBA
CREATE TABLE `END_REC_CSH_XFT_GL_TGT_T` (`XFR_NBR` VARCHAR(14) NOT NULL, `SRC_KEMID` VARCHAR(10) NOT NULL, `TGT_SEQ_NBR` VARCHAR(14) NOT NULL, `TGT_FIN_COA_CD` VARCHAR(2) NOT NULL, `TGT_ACCT_NBR` VARCHAR(7) NOT NULL, `TGT_SUB_ACCT_NBR` VARCHAR(5), `TGT_FIN_OBJ_CD` VARCHAR(4) NOT NULL, `TGT_SUB_OBJ_CD` VARCHAR(10), `TGT_PROJECT_CD` VARCHAR(10), `TGT_FDOC_LN_AMT` DECIMAL(19,2) DEFAULT '0.00', `TGT_PCT` DECIMAL(3,2) DEFAULT '0.00', `TGT_USE_ETRAN_CD` VARCHAR(9), `ROW_ACTV_IND` VARCHAR(1) NOT NULL, `OBJ_ID` VARCHAR(36) NOT NULL, `VER_NBR` DECIMAL(8, 0) DEFAULT '1' NOT NULL, CONSTRAINT `PK_END_REC_CSH_XFT_GL_TGT_T` PRIMARY KEY (`XFR_NBR`, `SRC_KEMID`, `TGT_SEQ_NBR`));


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-20::Daniela::(MD5Sum: ea992fe13b44d31a45dbf695af81a072)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_REC_CSH_XFT_GL_TGT_T` ADD CONSTRAINT `END_REC_CSH_XFT_GL_TGT_TR1` FOREIGN KEY (`XFR_NBR`, `SRC_KEMID`) REFERENCES `END_REC_CSH_XFT_T`(`XFR_NBR`, `SRC_KEMID`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-21::Daniela::(MD5Sum: 6056f74e9a97bdb158a8d549e39447)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_REC_CSH_XFT_GL_TGT_T` ADD CONSTRAINT `END_REC_CSH_XFT_GL_TGT_TR2` FOREIGN KEY (`TGT_FIN_COA_CD`) REFERENCES `CA_CHART_T`(`FIN_COA_CD`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-22::Daniela::(MD5Sum: 6afe262a163b9fa8b5bb94d39b1fde3)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_REC_CSH_XFT_GL_TGT_T` ADD CONSTRAINT `END_REC_CSH_XFT_GL_TGT_TR3` FOREIGN KEY (`TGT_FIN_COA_CD`, `TGT_ACCT_NBR`) REFERENCES `CA_ACCOUNT_T`(`FIN_COA_CD`, `ACCOUNT_NBR`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-23::Daniela::(MD5Sum: ddc6af96b647dc5656fe88eece67ab5)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_REC_CSH_XFT_GL_TGT_T` ADD CONSTRAINT `END_REC_CSH_XFT_GL_TGT_TR4` FOREIGN KEY (`TGT_FIN_COA_CD`, `TGT_ACCT_NBR`, `TGT_SUB_ACCT_NBR`) REFERENCES `CA_SUB_ACCT_T`(`FIN_COA_CD`, `ACCOUNT_NBR`, `SUB_ACCT_NBR`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-24::Daniela::(MD5Sum: 4ae73180cf92188e5381bf9cd93e824c)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_REC_CSH_XFT_GL_TGT_T` ADD CONSTRAINT `END_REC_CSH_XFT_GL_TGT_TR5` FOREIGN KEY (`TGT_PROJECT_CD`) REFERENCES `CA_PROJECT_T`(`PROJECT_CD`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-25::Daniela::(MD5Sum: c95446718f21d14d33c32c2299384de7)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_REC_CSH_XFT_GL_TGT_T` ADD CONSTRAINT `END_REC_CSH_XFT_GL_TGT_TR6` FOREIGN KEY (`TGT_USE_ETRAN_CD`) REFERENCES `END_ETRAN_CD_T`(`ETRAN_CD`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-26::Daniela::(MD5Sum: e9b7a647419ea296225f2a228e11de55)
-- create transactional document basic tables in KULDBA
CREATE TABLE `END_PENDING_TRAN_DOC_T` (`FDOC_NBR` VARCHAR(14) NOT NULL, `DOC_TYP_NM` VARCHAR(64) NOT NULL, `APPROVED_DT` DATE NOT NULL, `VER_NBR` DECIMAL(8,0) DEFAULT '1' NOT NULL, `OBJ_ID` VARCHAR(36) NOT NULL, CONSTRAINT `PK_END_PENDING_TRAN_DOC_T` PRIMARY KEY (`FDOC_NBR`));


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-27::Daniela::(MD5Sum: f36290ac88559f196f70af4758996271)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_PENDING_TRAN_DOC_T` ADD CONSTRAINT `END_PENDING_TRAN_DOC_TR1` FOREIGN KEY (`FDOC_NBR`) REFERENCES `KRNS_DOC_HDR_T`(`DOC_HDR_ID`);


-- Changeset updates/2010-08-04-5578i-1-END_ENDOW_ACCT_LINES_T.xml::5578i-1-28::Daniela::(MD5Sum: 8db3705358029ca712c4ea359dbb66)
-- create transactional document basic tables in KULDBA
ALTER TABLE `END_TRAN_HLDG_LOT_T` DROP FOREIGN KEY `END_TRAN_HLDG_LOT_TR2`;


-- Release Database Lock

-- Release Database Lock


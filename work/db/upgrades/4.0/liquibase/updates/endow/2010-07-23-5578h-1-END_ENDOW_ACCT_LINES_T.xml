<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns='http://www.liquibase.org/xml/ns/dbchangelog/1.9' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.liquibase.org/xml/ns/dbchangelog/1.9 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd'>
  <changeSet author='Daniela' id='5578h-1-1' failOnError='true'>
    <comment>Create transactional document basic tables</comment>
    <createTable tableName='END_ENDOW_ACCT_LINES_T'>
      <column name='FDOC_NBR' type='VARCHAR2(14)'>
        <constraints nullable='false' />
      </column>
      <column name='FDOC_LINE_NBR' type='NUMBER(7 , 0)'>
        <constraints nullable='false' />
      </column>
      <column name='FDOC_LN_TYP_CD' type='VARCHAR2(1)'>
        <constraints nullable='false' />
      </column>
      <column name='OBJ_ID' type='VARCHAR2(36)'>
        <constraints nullable='false' />
      </column>
      <column name='VER_NBR' type='NUMBER(8 , 0)' defaultValue='1'>
        <constraints nullable='false' />
      </column>
      <column name='FIN_COA_CD' type='VARCHAR2(2)'>
        <constraints nullable='true' />
      </column>
      <column name='ACCOUNT_NBR' type='VARCHAR2(7)'>
        <constraints nullable='true' />
      </column>
      <column name='FDOC_POST_YR' type='NUMBER(4 , 0)'>
        <constraints nullable='true' />
      </column>
      <column name='FIN_OBJECT_CD' type='VARCHAR2(4)'>
        <constraints nullable='true' />
      </column>
      <column name='FDOC_LINE_AMT' type='NUMBER(19 , 2)'>
        <constraints nullable='true' />
      </column>
      <column name='SUB_ACCT_NBR' type='VARCHAR2(5)'>
        <constraints nullable='true' />
      </column>
      <column name='FIN_SUB_OBJ_CD' type='VARCHAR2(3)'>
        <constraints nullable='true' />
      </column>
      <column name='PROJECT_CD' type='VARCHAR2(10)'>
        <constraints nullable='true' />
      </column>
      <column name='ORG_REFERENCE_ID' type='VARCHAR2(8)'>
        <constraints nullable='true' />
      </column>
    </createTable>
    <modifySql dbms='mysql'>
      <replace replace='VARCHAR2' with='VARCHAR' />
    </modifySql>
    <modifySql dbms='mysql'>
      <replace replace='NUMBER' with='DECIMAL' />
    </modifySql>
  </changeSet>
  <changeSet author='Daniela' id='5578h-1-2' failOnError='true'>
    <comment>Create transactional document basic tables</comment>
    <addPrimaryKey tableName='END_ENDOW_ACCT_LINES_T' constraintName='ENDOW_ACCT_LINES_TP1' columnNames='FDOC_NBR, FDOC_LINE_NBR, FDOC_LN_TYP_CD' />
  </changeSet>
  <changeSet author='Daniela' id='5578h-1-3' failOnError='true'>
    <comment>Create transactional document basic tables</comment>
    <addForeignKeyConstraint constraintName='ENDOW_ACCT_LINES_TR2' baseTableName='END_ENDOW_ACCT_LINES_T' baseColumnNames='PROJECT_CD' referencedTableName='CA_PROJECT_T' referencedColumnNames='PROJECT_CD' />
  </changeSet>
  <changeSet author='Daniela' id='5578h-1-4' failOnError='true'>
    <comment>Create transactional document basic tables</comment>
    <addForeignKeyConstraint constraintName='ENDOW_ACCT_LINES_TR4' baseTableName='END_ENDOW_ACCT_LINES_T' baseColumnNames='FDOC_POST_YR, FIN_COA_CD, FIN_OBJECT_CD' referencedTableName='CA_OBJECT_CODE_T' referencedColumnNames='UNIV_FISCAL_YR, FIN_COA_CD, FIN_OBJECT_CD' />
  </changeSet>
  <changeSet author='Daniela' id='5578h-1-5' failOnError='true'>
    <comment>Create transactional document basic tables</comment>
    <addForeignKeyConstraint constraintName='ENDOW_ACCT_LINES_TR3' baseTableName='END_ENDOW_ACCT_LINES_T' baseColumnNames='FDOC_POST_YR, FIN_COA_CD, ACCOUNT_NBR, FIN_OBJECT_CD, FIN_SUB_OBJ_CD' referencedTableName='CA_SUB_OBJECT_CD_T' referencedColumnNames='UNIV_FISCAL_YR, FIN_COA_CD, ACCOUNT_NBR, FIN_OBJECT_CD, FIN_SUB_OBJ_CD' />
  </changeSet>
  <changeSet author='Daniela' id='5578h-1-6' failOnError='true'>
    <comment>Create transactional document basic tables</comment>
    <addForeignKeyConstraint constraintName='ENDOW_ACCT_LINES_TR6' baseTableName='END_ENDOW_ACCT_LINES_T' baseColumnNames='FIN_COA_CD' referencedTableName='CA_CHART_T' referencedColumnNames='FIN_COA_CD' />
  </changeSet>
  <changeSet author='Daniela' id='5578h-1-7' failOnError='true'>
    <comment>Create transactional document basic tables</comment>
    <addForeignKeyConstraint constraintName='ENDOW_ACCT_LINES_TR7' baseTableName='END_ENDOW_ACCT_LINES_T' baseColumnNames='FIN_COA_CD, ACCOUNT_NBR' referencedTableName='CA_ACCOUNT_T' referencedColumnNames='FIN_COA_CD, ACCOUNT_NBR' />
  </changeSet>
  <changeSet author='Daniela' id='5578h-1-8' failOnError='true'>
    <comment>Create transactional document basic tables</comment>
    <addForeignKeyConstraint constraintName='ENDOW_ACCT_LINES_TR5' baseTableName='END_ENDOW_ACCT_LINES_T' baseColumnNames='FIN_COA_CD, ACCOUNT_NBR, SUB_ACCT_NBR' referencedTableName='CA_SUB_ACCT_T' referencedColumnNames='FIN_COA_CD, ACCOUNT_NBR, SUB_ACCT_NBR' />
  </changeSet>
  <changeSet author='Daniela' id='5578h-1-9' failOnError='true'>
    <comment>Create transactional document basic tables</comment>
    <addColumn tableName='END_TRAN_DOC_T'>
      <column name='FDOC_NXT_SRC_ACCT_LN_NBR' type='NUMBER(7,0)' />
    </addColumn>
    <modifySql dbms='mysql'>
      <replace replace='VARCHAR2' with='VARCHAR' />
    </modifySql>
    <modifySql dbms='mysql'>
      <replace replace='varchar2' with='VARCHAR' />
    </modifySql>
    <modifySql dbms='mysql'>
      <replace replace='NUMBER' with='DECIMAL' />
    </modifySql>
  </changeSet>
  <changeSet author='Daniela' id='5578h-1-10' failOnError='true'>
    <comment>Create transactional document basic tables</comment>
    <addColumn tableName='END_TRAN_DOC_T'>
      <column name='FDOC_NXT_TAR_ACCT_LN_NBR' type='NUMBER(7,0)' />
    </addColumn>
    <modifySql dbms='mysql'>
      <replace replace='VARCHAR2' with='VARCHAR' />
    </modifySql>
    <modifySql dbms='mysql'>
      <replace replace='varchar2' with='VARCHAR' />
    </modifySql>
    <modifySql dbms='mysql'>
      <replace replace='NUMBER' with='DECIMAL' />
    </modifySql>
  </changeSet>
</databaseChangeLog>
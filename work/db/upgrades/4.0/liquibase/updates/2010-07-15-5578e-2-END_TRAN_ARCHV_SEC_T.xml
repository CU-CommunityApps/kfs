<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns='http://www.liquibase.org/xml/ns/dbchangelog/1.9' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.liquibase.org/xml/ns/dbchangelog/1.9 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd'>
  <changeSet author='Bonnie' id='5578e-2-1' failOnError='true'>
    <comment>create transaction archive tables</comment>
    <createTable tableName='END_TRAN_ARCHV_T'>
      <column name='FDOC_NBR' type='VARCHAR2(14)'>
        <constraints nullable='false' primaryKey='true' />
      </column>
      <column name='FDOC_LN_NBR' type='NUMBER(7)'>
        <constraints nullable='false' primaryKey='true' />
      </column>
      <column name='FDOC_LN_TYP_CD' type='VARCHAR2(1)'>
        <constraints nullable='false' primaryKey='true' />
      </column>
      <column name='TRAN_DESC' type='VARCHAR2(40)'>
        <constraints nullable='true' />
      </column>
      <column name='TRAN_TYP_CD' type='VARCHAR2(5)'>
        <constraints nullable='false' />
      </column>
      <column name='TRAN_SUB_TYP_CD' type='VARCHAR2(1)'>
        <constraints nullable='false' />
      </column>
      <column name='TRAN_SRC_TYP_CD' type='VARCHAR2(1)'>
        <constraints nullable='false' />
      </column>
      <column name='TRAN_KEMID' type='VARCHAR2(10)'>
        <constraints nullable='false' />
      </column>
      <column name='TRAN_ETRAN_CD' type='VARCHAR2(9)'>
        <constraints nullable='false' />
      </column>
      <column name='TRAN_LN_DESC' type='VARCHAR2(40)'>
        <constraints nullable='true' />
      </column>
      <column name='TRAN_IP_IND_CD' type='VARCHAR2(1)'>
        <constraints nullable='false' />
      </column>
      <column name='TRAN_INC_CSH_AMT' type='NUMBER(19,2)'>
        <constraints nullable='false' />
      </column>
      <column name='TRAN_PRIN_CSH_AMT' type='NUMBER(19,2)'>
        <constraints nullable='false' />
      </column>
      <column name='TRAN_CORPUS_IND' type='VARCHAR2(1)'>
        <constraints nullable='false' />
      </column>
      <column name='TRAN_CORPUS_AMT' type='NUMBER(19,2)'>
        <constraints nullable='true' />
      </column>
      <column name='TRAN_PSTD_DT' type='DATE'>
        <constraints nullable='true' />
      </column>
    </createTable>
    <modifySql dbms='mysql'>
      <replace replace='VARCHAR2' with='VARCHAR' />
    </modifySql>
    <modifySql dbms='mysql'>
      <replace replace='NUMBER' with='DECIMAL' />
    </modifySql>
  </changeSet>
  <changeSet author='Bonnie' id='5578e-2-2' failOnError='true'>
    <comment>create transaction archive tables</comment>
    <addForeignKeyConstraint constraintName='END_TRAN_ARCHV_TR1' baseTableName='END_TRAN_ARCHV_T' baseColumnNames='FDOC_NBR' referencedTableName='KRNS_DOC_HDR_T' referencedColumnNames='DOC_HDR_ID' />
  </changeSet>
  <changeSet author='Bonnie' id='5578e-2-3' failOnError='true'>
    <comment>create transaction archive tables</comment>
    <addForeignKeyConstraint constraintName='END_TRAN_ARCHV_TR2' baseTableName='END_TRAN_ARCHV_T' baseColumnNames='TRAN_SUB_TYP_CD' referencedTableName='END_TRAN_SUB_TYP_T' referencedColumnNames='TRAN_SUB_TYP_CD' />
  </changeSet>
  <changeSet author='Bonnie' id='5578e-2-4' failOnError='true'>
    <comment>create transaction archive tables</comment>
    <addForeignKeyConstraint constraintName='END_TRAN_ARCHV_TR3' baseTableName='END_TRAN_ARCHV_T' baseColumnNames='TRAN_SRC_TYP_CD' referencedTableName='END_TRAN_SRC_TYP_T' referencedColumnNames='TRAN_SRC_TYP_CD' />
  </changeSet>
  <changeSet author='Bonnie' id='5578e-2-5' failOnError='true'>
    <comment>create transaction archive tables</comment>
    <addForeignKeyConstraint constraintName='END_TRAN_ARCHV_TR4' baseTableName='END_TRAN_ARCHV_T' baseColumnNames='TRAN_KEMID' referencedTableName='END_KEMID_T' referencedColumnNames='KEMID' />
  </changeSet>
  <changeSet author='Bonnie' id='5578e-2-6' failOnError='true'>
    <comment>create transaction archive tables</comment>
    <addForeignKeyConstraint constraintName='END_TRAN_ARCHV_TR5' baseTableName='END_TRAN_ARCHV_T' baseColumnNames='TRAN_ETRAN_CD' referencedTableName='END_ETRAN_CD_T' referencedColumnNames='ETRAN_CD' />
  </changeSet>
  <changeSet author='Bonnie' id='5578e-2-7' failOnError='true'>
    <comment>create transaction archive tables</comment>
    <addForeignKeyConstraint constraintName='END_TRAN_ARCHV_TR6' baseTableName='END_TRAN_ARCHV_T' baseColumnNames='TRAN_IP_IND_CD' referencedTableName='END_IP_IND_T' referencedColumnNames='IP_IND_CD' />
  </changeSet>
  <changeSet author='Bonnie' id='5578e-2-8' failOnError='true'>
    <comment>create transaction archive tables</comment>
    <createTable tableName='END_TRAN_ARCHV_SEC_T'>
      <column name='FDOC_NBR' type='VARCHAR2(14)'>
        <constraints nullable='false' primaryKey='true' />
      </column>
      <column name='FDOC_LN_NBR' type='NUMBER(7)'>
        <constraints nullable='false' primaryKey='true' />
      </column>
      <column name='FDOC_LN_TYP_CD' type='VARCHAR2(1)'>
        <constraints nullable='false' primaryKey='true' />
      </column>
      <column name='TRAN_SEC_ID' type='VARCHAR2(9)'>
        <constraints nullable='false' />
      </column>
      <column name='TRAN_SEC_REGIS_CD' type='VARCHAR2(4)'>
        <constraints nullable='false' />
      </column>
      <column name='TRAN_SEC_ETRAN_CD' type='VARCHAR2(9)'>
        <constraints nullable='true' />
      </column>
      <column name='TRAN_SEC_UNITS' type='NUMBER(16,4)'>
        <constraints nullable='true' />
      </column>
      <column name='TRAN_SEC_UNIT_VAL' type='NUMBER(19,5)'>
        <constraints nullable='true' />
      </column>
      <column name='TRAN_SEC_COST' type='NUMBER(19,2)'>
        <constraints nullable='true' />
      </column>
      <column name='TRAN_SEC_LT_GAIN_LOSS' type='NUMBER(19,2)'>
        <constraints nullable='true' />
      </column>
      <column name='TRAN_SEC_ST_GAIN_LOSS' type='NUMBER(19,2)'>
        <constraints nullable='true' />
      </column>
    </createTable>
    <modifySql dbms='mysql'>
      <replace replace='VARCHAR2' with='VARCHAR' />
    </modifySql>
    <modifySql dbms='mysql'>
      <replace replace='NUMBER' with='DECIMAL' />
    </modifySql>
  </changeSet>
  <changeSet author='Bonnie' id='5578e-2-9' failOnError='true'>
    <comment>create transaction archive tables</comment>
    <addForeignKeyConstraint constraintName='END_TRAN_ARCHV_SEC_TR1' baseTableName='END_TRAN_ARCHV_SEC_T' baseColumnNames='FDOC_NBR, FDOC_LN_TYP_CD, FDOC_LN_NBR' referencedTableName='END_TRAN_ARCHV_T' referencedColumnNames='FDOC_NBR, FDOC_LN_TYP_CD, FDOC_LN_NBR' />
  </changeSet>
  <changeSet author='Bonnie' id='5578e-2-10' failOnError='true'>
    <comment>create transaction archive tables</comment>
    <addForeignKeyConstraint constraintName='END_TRAN_ARCHV_SEC_TR2' baseTableName='END_TRAN_ARCHV_SEC_T' baseColumnNames='TRAN_SEC_ID' referencedTableName='END_SEC_T' referencedColumnNames='SEC_ID' />
  </changeSet>
  <changeSet author='Bonnie' id='5578e-2-11' failOnError='true'>
    <comment>create transaction archive tables</comment>
    <addForeignKeyConstraint constraintName='END_TRAN_ARCHV_SEC_TR3' baseTableName='END_TRAN_ARCHV_SEC_T' baseColumnNames='TRAN_SEC_REGIS_CD' referencedTableName='END_REGIS_CD_T' referencedColumnNames='REGIS_CD' />
  </changeSet>
</databaseChangeLog>